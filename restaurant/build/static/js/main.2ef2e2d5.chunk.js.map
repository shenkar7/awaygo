{"version":3,"sources":["components/Countdown/Countdown.js","components/Spinner/Spinner.js","assets/functions.js","containers/Orders/OrderWindow/OrderWindow.js","containers/Orders/OrderSmallWindow/OrderSmallWindow.js","assets/img/add.png","assets/img/addHover.png","containers/Orders/SubHeader/SubHeader.js","components/PageHeader/PageHeader.js","assets/img/logo.jpg","components/Modal/Modal.js","containers/Orders/AddOrder/OrdersPageContext.js","containers/Orders/AddOrder/OrderDetails/OrderDetails.js","components/Counter/Counter.js","containers/Orders/AddOrder/Menu/DishBlock/DishBlock.js","containers/Orders/AddOrder/Menu/Menu.js","containers/Orders/AddOrder/Cart/DishInCart/DishInCart.js","containers/Orders/AddOrder/Cart/Cart.js","components/TimingOrder/TimingOrder.js","containers/Orders/AddOrder/AddOrder.js","containers/Orders/ViewOrder/ViewOrder.js","containers/Orders/NewOrder/NewOrder.js","components/ToggleSwitch/ToggleSwitch.js","containers/Orders/MenuSiteClosure/MenuSiteClosure.js","containers/Orders/DishesVisibility/DishesVisibility.js","containers/Orders/Orders.js","App.js","reportWebVitals.js","index.js"],"names":["Countdown","props","useState","Date","getTime","now","setNow","distance","countDownDate","hours","Math","floor","abs","minutes","seconds","useEffect","setTimeout","content","className","style","color","fontWeight","Spinner","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","OrderWindow","status","setStatus","nextButton","order","class","onClick","newOrder","customer","id","originURL","window","location","origin","csrftoken","axios","put","headers","then","res","console","log","orderUpdateHandler","catch","err","message","parse","date_time","click","first_name","last_name","city","street","number","dishesinorder","slice","map","dishInOrder","dish","quantity","remark","Fragment","OrderSmallWindow","SubHeader","addHover","setAddHover","src","addHoverImg","alt","onMouseOut","addOrderHandler","addImg","onMouseOver","menuSiteClosureHandler","dishesVisibilityHandler","PageHeader","href","width","height","Modal","modalClick","OrdersPageContext","React","createContext","OrderDetails","customersList","useContext","onChangeHandler","event","fieldName","newValidation","validation","newValidFields","validFields","phone_number","target","value","test","forEach","email","apartment","setInvalid","phoneSetAutoFill","includes","setOrder","setValidation","setValidFields","type","placeholder","onChange","min","step","Counter","countHandler","count","DishBlock","open","setOpen","initialForm","extras","extraCategories","category","push","formValues","setFormValues","onClickHandler","extra","newFormState","checked","filter","htmlFor","price","description","newForm","onSubmit","preventDefault","prevState","newState","dishes_in_order","onRemarkChangeHandler","Menu","categories","foodCategories","dishes","visible","DishInCart","parseFloat","dishInCart","extrasList","Cart","totalPrice","dishesInOrder","addedPrice","addToPrice","random","TimingOrder","timing","setTiming","choiceNumberValue","setChoiceNumberValue","choiceHandler","timingButtonHandler","invalid","AddOrder","restaurant","restaurantId","nonEmptyCart","submitValidation","setSubmitValidation","key","allValid","j","createNewOrderWithIds","post","successClose","reload","ViewOrder","backButton","modalClose","String","NewOrder","timingOrder","ToggleSwitch","toggleHandler","MenuSiteClosure","menu_open","newRestaurant","background_img","setRestaurant","DishesVisibility","createNewFoodCategories","oldFoodCategories","newFoodCategories","setFoodCategories","foodCategoriesContent","Orders","orders","setOrders","setCustomersList","loading","setLoading","error","setError","shouldRefresh","setShouldRefresh","addOrderWindow","setAddOrderWindow","viewOrderWindow","setViewOrderWindow","newOrderWindow","setNewOrderWindow","menuSiteClosureWindow","setMenuSiteClosureWindow","dishesVisibilityWindow","setDishesVisibilityWindow","newOrders","getCustomers","get","getOrders","getRestaurant","all","responses","data","errors","interval","setInterval","dbOrdersChanged","clearInterval","errorMessage","orderWindowCreator","ordersProcess","ordersReady","ordersSent","addOrder","viewOrder","menuSiteClosure","dishesVisibility","Provider","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ef2e2d5.chunk.js","sourcesContent":["import './Countdown.css'\r\nimport React, {useState, useEffect} from 'react';\r\n\r\nconst Countdown = props => {\r\n\r\n    const [now, setNow] = useState(new Date().getTime());\r\n\r\n    const distance = props.countDownDate - now;\r\n\r\n    const hours = Math.floor((Math.abs(distance) % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    let minutes = Math.floor((Math.abs(distance) % (1000 * 60 * 60)) / (1000 * 60));\r\n    if(minutes < 10)\r\n        minutes = \"0\" + minutes;\r\n    let seconds = Math.floor((Math.abs(distance) % (1000 * 60)) / 1000);\r\n    if(seconds < 10)\r\n        seconds = \"0\" + seconds;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setNow(new Date().getTime());\r\n        }, 1000);\r\n    }, [now]);\r\n\r\n    let content = (\r\n        <div className=\"timer\">\r\n            {hours + \":\" + minutes + \":\" + seconds}\r\n        </div>\r\n    );\r\n\r\n    \r\n\r\n    if(distance < 0){\r\n        content = (\r\n            <div className=\"timer\" style={{color: \"red\", fontWeight: \"bold\"}}>\r\n                -{hours + \":\" + minutes + \":\" + seconds}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default Countdown;","import './Spinner.css';\r\n\r\nconst Spinner = () => {\r\n    return (<div className=\"loader\"></div>);\r\n}\r\n\r\nexport default Spinner;","export const getCookie = name => {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}","import React, { useState } from 'react';\r\nimport './OrderWindow.css';\r\nimport Countdown from '../../../components/Countdown/Countdown';\r\nimport axios from 'axios';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst OrderWindow = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const nextButtonHandler = () => {\r\n        const newOrder = {...props.order};\r\n        newOrder.status = 'ready';\r\n        newOrder.customer = newOrder.customer.id;\r\n\r\n        setStatus('loading');\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + '/order/' + newOrder.id + '/',\r\n            newOrder,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log('SUCCESS updating the order');\r\n            newOrder.customer = props.order.customer;\r\n            props.orderUpdateHandler(newOrder);\r\n            setStatus(null);\r\n        })\r\n        .catch(err => {\r\n            setStatus('error');\r\n            console.log('ERROR updating the order');\r\n            console.log(err.message);\r\n        })\r\n    }\r\n\r\n    let nextButton = null;\r\n    if(props.order.status === \"process\"){\r\n        if(status === 'loading'){\r\n            nextButton = <span className='spinner'><Spinner/></span>;\r\n        }\r\n        else if(status === 'error'){\r\n            nextButton = (\r\n                <div class=\"next-button\">\r\n                    שגיאת תקשורת\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            nextButton = (\r\n                <div class=\"next-button\">\r\n                    <button onClick={nextButtonHandler}>מוכן</button>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"order-window\">\r\n            <div>\r\n                <div className=\"order-number-countdown\">\r\n                    <b>#{props.order.id}</b>\r\n                    {props.order.status === 'process' ?\r\n                        <Countdown countDownDate={Date.parse(props.order.date_time)}/>\r\n                        : null\r\n                    }\r\n                </div>\r\n                <div className=\"inside-window\" onClick={props.click}>\r\n                    <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                    <div className=\"address\">{props.order.city + \" \" + props.order.street + \" \" + props.order.number}</div>\r\n                    <hr/>\r\n                    <div className=\"food-section\">\r\n                        <i className=\"fas fa-hamburger\"></i>\r\n                        <div>\r\n                            {props.order.dishesinorder.slice(0, 2).map(dishInOrder => <p className=\"food\">{dishInOrder.dish.name + \" ×\" + dishInOrder.quantity}</p>)}\r\n                        </div>  \r\n                    </div>\r\n                    {props.order.remark ?\r\n                        <React.Fragment>\r\n                            <hr/>\r\n                            <div className=\"remark-section\">\r\n                                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                                <div>\r\n                                    <p className=\"remark\">{props.order.remark}</p>\r\n                                </div>\r\n                            </div>\r\n                        </React.Fragment>\r\n                        : null   \r\n                    }\r\n                </div>\r\n            </div>\r\n            {nextButton}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderWindow;","import './OrderSmallWindow.css';\r\nimport React from 'react';\r\n\r\nconst OrderSmallWindow = props => {\r\n\r\n    return (\r\n        <div className=\"order-small-window\">\r\n            <div className=\"order-number\"><b>#{props.order.id}</b></div>\r\n            <div className=\"inside-window\" onClick={props.click}>\r\n                <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                <div className=\"address\">{props.order.city + \" \" + props.order.street + \" \" + props.order.number}</div>\r\n                {props.order.remark ?\r\n                    <React.Fragment>\r\n                        <hr/>\r\n                        <div className=\"remark-section\">\r\n                            <i className=\"fas fa-exclamation-triangle\"></i>\r\n                            <div>\r\n                                <p className=\"remark\">{props.order.remark}</p>\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment>\r\n                    : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderSmallWindow;","export default __webpack_public_path__ + \"static/media/add.685caefe.png\";","export default __webpack_public_path__ + \"static/media/addHover.cba558ca.png\";","import './SubHeader.css';\r\nimport addImg from '../../../assets/img/add.png'\r\nimport addHoverImg from '../../../assets/img/addHover.png'\r\nimport React, {useState} from 'react';\r\n\r\nconst SubHeader = props => {\r\n    \r\n    const [addHover, setAddHover] = useState(false);\r\n\r\n    return (\r\n        <div className=\"sub-header\"> \r\n            <div className=\"add-order-button\">\r\n                {addHover\r\n                    ? <img src={addHoverImg} alt=\"hoverAdd\" onMouseOut={() => setAddHover(false)} onClick={props.addOrderHandler} />\r\n                    : <img src={addImg} alt=\"add\" onMouseOver={() => setAddHover(true)} />\r\n                }\r\n            </div>\r\n            <div className=\"navigation\">\r\n                <span className=\"navigation-button\">\r\n                    <i class=\"fas fa-history\"></i>\r\n                    היסטורית הזמנות (בבנייה)\r\n                </span>\r\n                <span className=\"separator\">|</span>\r\n                <span className=\"navigation-button\" onClick={props.menuSiteClosureHandler}>\r\n                    <i class=\"fas fa-store-slash\"></i>\r\n                    השבתת אתר התפריט\r\n                </span>\r\n                <span className=\"separator\">|</span>\r\n                <span className=\"navigation-button\" onClick={props.dishesVisibilityHandler}>\r\n                    <i class=\"fas fa-eye-slash\"></i>\r\n                    הסתרת/הצגת מנות\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SubHeader;","import './PageHeader.css';\r\nimport logoImg from '../../assets/img/logo.jpg';\r\n\r\nconst PageHeader = () => {\r\n    return (\r\n        <header>\r\n            <div className=\"logo\">\r\n                <a href=\"/\"><img src={logoImg} alt=\"logo\" width=\"132\" height=\"36\"/></a>\r\n            </div>\r\n\r\n            <div className=\"logout\">\r\n                <i className=\"fas fa-user header-icon\"></i>\r\n                <a href=\"/logout\">התנתק</a>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n    \r\nexport default PageHeader;","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAkACQAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAkAIQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD91K8I/aD/AOCk3wh/Zg+ITeFvGHiOay1uO3S5kggsJ7nylfJXc0akAkDODzgg969M+OPxg0n4A/CPxB4y1yTy9M8PWb3cozhpSOEjX/adyqD3YV+K/wCzn8Dte/4KgftIfELxFrt6LeRrC81aaYyhEF26MtlbKW/hD7eP7kRFAH7Hfs2ftVeCf2tvB15rvgbVJNU0/T7w2Fw0ltJbvHKER8bXAONrrg4wefQ16LX5A/8ABBT47t8N/wBpfXfAF/IYrbxnZkwRuT8t7a7nA9BmIzZ9Siivo/8A4Kp/8FCPit+w/wDFbQbbw5ZeGrrwz4i08zW819ZSSSJcRvtlj3LIoOA0TdP46APu+ivjD/gob/wU5u/2cv2e/hx4m8DxaZd6t8RI49StY9QiaSOOy8hZGJVWUht0sQHP96o/+CdH/BTq/wD2jvgT8TfEvj2HTbS9+HKf2lcDToGiiayaCR1wGZiX3QTDr3WgD7Tor4S/4Jaf8FA/iz+3H8Wdei1+w8M2fhHw7ZCW5lsrORJXuJWxDEGaQjosjHj+AetZmr/tC/tt/Ei3v9V8PfDnwz4S0OIyS241NYorlohkqWWebIO3GcqooA/QCivze/4Jp/8ABXjx5+0f+0Fp3w68a6dol3Jr0FybHUrKA2728sMEk/7xNxVkKxsPlwQcU/8AZ7/4LL+O/Fv7YOjfDPx34W8K6JFc63JoF/JaGbzre6DPEqgs5X/XhVPHQmgD9Hqqa5rtl4Z0e51DUbu2sLCzjMs9zcSiOKFByWZjgAD1NfHn/BUX/gqBqf7DvjDwv4d8M6Vo2s6xqtpLqF/HqHm4tYN4jhK7GXJdlm78eWOOa+JP+Cl37e3xB+PHgLwP4V8Qw2nh9b/S4vEOqafp3mJHMbhma1STcxLAQCOTGcZm6ZUUAffXj7/gtP8AALwLq8lnH4j1HXZIWKvJpemySw59nbarD3UkVv8AwE/4Kt/Br9o3x9p3hfQNa1OLXtWcx2lpeaZLEZmCliA4BQcKTyw6V8u/se/8EtfhN8Nv2UrL4r/G5pdQS/06LWJYWmmSz0u1lCmLKw/PI5V0J7AtjHBJ634N2X7Eln+0F4O1TwBro0zxhBqkUelQWR1ApdTyHykiZZUZcMXx1HXqKAP0For4l/4KVf8ABW6P9kDxX/whXhDS7PXPGIhWe9mvGb7LpiuMopVSGeQqQ2MgAEdc4r5ouf8Agr5+0z8FrjSda8c+DbJfD+s4ktUv9CmsI7tOuIpcg5wcjO7gg4NAH640V5n+yX+1HoP7XfwP0vxroavaxXhaC6tJmBksrhMB4mPfGQQe6sp4ziigD8/v+C+H7Xn9sa9pXwf0a5zb6aU1TXzG335iP3EB/wB1SZCOmXTutct8Bf8Agg54n+LPwf8AD3ii/wDHdr4audfskvv7OfSnme2R/mQM3mr8xQqSMcZx2r738Yf8Evvgf8QPG9/4j1rwUupazqd017dXM+o3bGaVm3EkebjGe2MY4xivfYolgiVEUKiAKqqMBQOgFAH4BfGD4W+If+Cav7alnZm+XUtQ8HXtnq1nexxNDHfxEJKMKSSAfmjYZPIYZr9H/wDgsT4C0/8Aaa/4J8af4/0QLdf2A1r4hs5VGWezuFVJFH4SRuf+uVfQfx+/YU+Fn7UHi2113xx4Wh1vVbO0WxhnN1PCVhDu4XEbqDhnc8+tdXoPwC8KeGvgm3w7tNL2+D2sJtLOnyTySD7NKGDx72YvjDsBzx2xgUAfiR+y7pmtft1/tG/Br4f6xuu9H8K266fIpYsDp8M813Lu9Mo3lD2VK47xx4g1/wDZV8bfGD4a2kzR2WrTyeHtQQMQHS2vkljkHqSIivP8Mz+tft38Bf2DPhR+zL4xm1/wT4Tg0bV57VrN7gXU8zeUzKzKBI7AZKLyOeKyfiX/AME1vgr8XviLf+K/EPgm1v8AXdUmWe6uPtdxGJnAC7iiyBeijPHPOetAHz/8AdC1T/gmp/wSD1XxpYadFL4z1K1i12dJ0yIpbuWGCDeOpEUTxsV/vB+mTXyL+y54X8U/8FO/HOqw/Ev49XOiRRTwxx6Zd3m6bVGl3nZbW29IgBt52qcbh8tfs/4l8Kab4y8M3mjarY21/pWoQNa3NpPGHimiYYKMp4wRXhPwq/4Ja/Bb4K/FC38X+HfDE9nq9n5v2fdqM8sUHmRtG21GYjO12x6ZyORQB+Xv/BF7STqP/BRnwbLFny7CDUpznrtNjPGP1kFdL/wWR+Ft3+zn+33H4x0cNZx+JktvEVnLGoVYbyJgkuPVt8ayH3mr9KvAH7E3wR/Y11O7+IOjeHLbwzLotlM1zqTXlzMttblcyswZ2G0KMk44AJr4p/4Lq/tGfC741+AfAtl4W8R6V4m8TadfzXHnaZcLcQ2tnJFiRXdcgMzrCQuc/I2ccZAPFHjn/wCCp3/BU0lPNfw9qmpruKs22DSbRACRn7hkSMnHTzJveu4/4Lx/s5ah4F/aC0nxzZ2Ljw14h0yCx82KP91aXNupj8o44UGIRlfXD4+6a9z/AOCAf7Mv/CJfCzX/AIo6jb7bzxTKdL0pmXlbKFsyupz0kmG3kcfZvevvrxp4H0b4j+GrnR9f0uw1nSrxds9peQLNDKPdWBH+FAH56/Bf/gp78CPjL+xVp3w1+LF1qugyWujW2jalbx21w6Xy26oqyRSwqxG7y1JBwQSRyOT8U/sjWWhaj/wUs8EJ4YE3/CNL45hk0oS7vM+ypdbod275s7FXOefWv1R8S/8ABGn9nzxJqDXH/CGz2Bc5KWeqXMUf4LvIH4V0vwd/4Jg/BL4FeMNP8QeH/Byx61pcontLu4vrid4JB0YBnK5/CgD8uv8Agp94Wvvg7/wUv1zWvENhLeaVf6pZ63bq4+S/tAItyKTwcbHjPptr23/grt/wUb+GP7T37OmgeFvA99NrWoT6nFqdw8llJANNRIpF2EuozITJjC5GA3PTP6O/Hb9mjwL+0v4ej0zxx4b0/X7aAloGmUrNbE9THIpDpnjODzjmvIPA3/BIL4A+AvEMepQeCRfzQuJI49Qvp7qFSOR+7ZtrfRgaAPMf+CKnwJ1zw1+xeL3UvPsF8R63capZRyAqWtzFBEr49GMLEeoIPeivuO0tIrC1jggjSGGFQkcaKFVFAwAAOAAKKAJKKKKACiiigAooooAKKKKAOe+LXgGy+K3wr8S+F9Se4j0/xHpV1pl09uwWVIpomjcoSCAwDHBIIzjg1+d/wY/4I2fCjxB8XZtP1DUPGl7YWJMnkPfwIJwD91ykCtg/7JU+9FFAH6P+D/CGmfD/AMK6fomi2UGm6TpVulraWsC7Y4I0GFUD6CtKiigAooooAKKKKACiiigD/9k=\"","import './Modal.css';\r\n\r\nconst Modal = props => {\r\n\r\n    const content = (\r\n        <div className=\"modal\">\r\n            <div className=\"modal-background\" onClick={props.modalClick}></div>\r\n            <div className=\"modal-content\">{props.content}</div>\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nconst OrdersPageContext = React.createContext([null, null]);\r\n\r\nexport default OrdersPageContext;","import './OrderDetails.css';\r\nimport React, {useContext} from 'react';\r\nimport OrdersPageContext from '../OrdersPageContext';\r\n\r\nconst OrderDetails = props => {\r\n\r\n    const customersList = useContext(OrdersPageContext).customersList;\r\n\r\n    const phoneSetAutoFill = (newOrder, newValidation, newValidFields) => {\r\n        customersList.forEach(customer => {\r\n            if (customer.phone_number === newOrder.customer.phone_number) {\r\n                newOrder.customer.first_name = customer.first_name;\r\n                newOrder.customer.last_name = customer.last_name;\r\n                \r\n                if (customer.email)\r\n                    newOrder.customer.email = customer.email;\r\n                else\r\n                    newOrder.customer.email = null;\r\n                \r\n                newOrder.city = customer.city;\r\n                newOrder.street = customer.street;\r\n                newOrder.number = customer.number;\r\n                \r\n                if(customer.apartment)\r\n                    newOrder.apartment = customer.apartment;\r\n                else\r\n                    newOrder.apartment = null;\r\n\r\n                // customer exists, so all fields are valid\r\n                newValidation.first_name = true;\r\n                newValidation.last_name = true;\r\n                newValidation.email = true;\r\n                newValidation.city = true;\r\n                newValidation.street = true;\r\n                newValidation.number = true;\r\n                newValidation.apartment = true;\r\n\r\n                newValidFields.phone_number = true;\r\n                newValidFields.first_name = true;\r\n                newValidFields.last_name = true;\r\n                newValidFields.email = true;\r\n                newValidFields.city = true;\r\n                newValidFields.street = true;\r\n                newValidFields.number = true;\r\n                newValidFields.apartment = true;\r\n\r\n                props.setInvalid(false);\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    const onChangeHandler = (event, fieldName) => {\r\n\r\n        const newOrder = {...props.order};\r\n        newOrder.customer = {...props.order.customer};\r\n        const newValidation = {...props.validation};\r\n        const newValidFields = {...props.validFields}\r\n\r\n        if (fieldName === \"phone_number\"){\r\n            newOrder.customer.phone_number = event.target.value;\r\n            newValidation.phone_number = true;\r\n            const regex = /^[0-9]+$/;\r\n            if (!regex.test(event.target.value))\r\n                newValidation.phone_number = false;\r\n            else if (event.target.value.length !== 10)\r\n                newValidation.phone_number = false;\r\n            else if (event.target.value.substring(0, 2) !== \"05\")\r\n                newValidation.phone_number = false;\r\n            phoneSetAutoFill(newOrder, newValidation, newValidFields);\r\n        }\r\n\r\n        if (fieldName === \"email\"){\r\n            newOrder.customer.email = event.target.value;\r\n            newValidation.email = true;\r\n            if ((!event.target.value.includes(\"@\") || !event.target.value.includes(\".\")) && !(event.target.value === null || event.target.value === \"\"))\r\n                newValidation.email = false;\r\n        }\r\n\r\n        if ([\"first_name\", \"last_name\"].includes(fieldName)){\r\n            newOrder.customer[fieldName] = event.target.value;\r\n            newValidation[fieldName] = true;\r\n            if (event.target.value === null || event.target.value === \"\")\r\n                newValidation[fieldName] = false;\r\n        }\r\n\r\n        if ([\"city\", \"street\"].includes(fieldName)){\r\n            newOrder[fieldName] = event.target.value;\r\n            newValidation[fieldName] = true;\r\n            if (event.target.value === null || event.target.value === \"\")\r\n                newValidation[fieldName] = false;\r\n        }\r\n\r\n        if (fieldName === \"number\"){\r\n            newOrder.number = event.target.value;\r\n            newValidation.number = false;\r\n            if (event.target.value > 0 )\r\n                newValidation.number = true;\r\n        }\r\n\r\n        if (fieldName === \"apartment\"){\r\n            newOrder.apartment = event.target.value;\r\n            newValidation.apartment = true;\r\n\r\n            if (event.target.value <= 0 && !(event.target.value === null || event.target.value === \"\"))\r\n                newValidation.apartment = false;\r\n        }\r\n\r\n        if (fieldName === \"remark\")\r\n            newOrder.remark = event.target.value;\r\n\r\n        props.setOrder(newOrder);\r\n        props.setValidation(newValidation);\r\n        props.setValidFields(newValidFields);\r\n    }\r\n\r\n    return (\r\n        <div className=\"order-details\">\r\n            <form>\r\n                <h2>פרטי לקוח</h2>\r\n                <div className=\"customer-details\">\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.phone_number ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>טלפון *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"טלפון\"\r\n                                value={props.order.customer.phone_number}\r\n                                onChange={event => onChangeHandler(event, \"phone_number\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"order-input\">\r\n                            <label>אימייל</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"email\"\r\n                                placeholder=\"אימייל\"\r\n                                value={props.order.customer.email}\r\n                                onChange={event => onChangeHandler(event, \"email\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.first_name ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>שם פרטי *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"שם פרטי\"\r\n                                value={props.order.customer.first_name}\r\n                                onChange={event => onChangeHandler(event, \"first_name\")}\r\n                            />\r\n                        </div>\r\n                        <div className={props.validFields.last_name ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>שם משפחה *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"שם משפחה\"\r\n                                value={props.order.customer.last_name}\r\n                                onChange={event => onChangeHandler(event, \"last_name\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <h2>כתובת</h2>\r\n                <div className=\"address-details\">\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.city ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>עיר *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"עיר\"\r\n                                value={props.order.city}\r\n                                onChange={event => onChangeHandler(event, \"city\")}\r\n                            />\r\n                        </div>\r\n                        <div className={props.validFields.street ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>רחוב *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"רחוב\"\r\n                                value={props.order.street}\r\n                                onChange={event => onChangeHandler(event, \"street\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.number ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>מספר בית *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"number\"\r\n                                placeholder=\"מספר בית\"\r\n                                min=\"1\"\r\n                                step=\"1\"\r\n                                value={props.order.number}\r\n                                onChange={event => onChangeHandler(event, \"number\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"order-input\">\r\n                            <label>מספר דירה</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"number\"\r\n                                placeholder=\"מספר דירה\"\r\n                                min=\"1\"\r\n                                step=\"1\"\r\n                                value={props.order.apartment}\r\n                                onChange={event => onChangeHandler(event, \"apartment\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <h2>הערה</h2>\r\n                <div className=\"remark\">\r\n                    <input\r\n                        className=\"remark-input\"\r\n                        type=\"text\"\r\n                        placeholder=\"הערה\"\r\n                        value={props.order.remark}\r\n                        onChange={event => onChangeHandler(event, \"remark\")}\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderDetails","import './Counter.css';\r\n\r\nconst Counter = props => {\r\n\r\n    return (\r\n        <div className=\"counter\">\r\n            <div className=\"counter-button\" onClick={() => props.countHandler(1)}><i className=\"fas fa-plus\"></i></div>\r\n            <div>{props.count}</div>\r\n            <div className=\"counter-button\" onClick={() => props.countHandler(-1)}><i className=\"fas fa-minus\"></i></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Counter;","import './DishBlock.css';\r\nimport React, {useState} from 'react';\r\nimport Counter from '../../../../../components/Counter/Counter';\r\n\r\nconst DishBlock = props => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const initialForm = {\r\n        dish: props.dish,\r\n        remark: \"\",\r\n        quantity: 1,\r\n        extras: []\r\n    };\r\n\r\n    props.dish.extraCategories.forEach(category => {\r\n        if (category.type === \"radio\")\r\n            initialForm.extras.push(category.extras[0]);\r\n    });\r\n\r\n    const [formValues, setFormValues] = useState(initialForm);\r\n\r\n    const onClickHandler = () => {\r\n        if(open)\r\n            setOpen(false);\r\n        else\r\n            setOpen(true);\r\n    }\r\n\r\n    const formSubmitHandler = (event) => {\r\n        event.preventDefault();\r\n        props.setOrder(prevState => {\r\n            const newState = {...prevState};\r\n            newState.dishes_in_order.push(formValues);\r\n            return(newState);\r\n        });\r\n        setOpen(false);\r\n    }\r\n\r\n    const counterChangeHandler = (value) => {\r\n        if (formValues.quantity + value > 0) {\r\n            const newForm = {...formValues};\r\n            newForm.quantity = formValues.quantity + value;\r\n            setFormValues(newForm);\r\n        }\r\n    }\r\n\r\n    const onChangeHandler = (event, extra, category) => {\r\n        const newFormState = {...formValues};\r\n        if (category.type === \"checkbox\"){\r\n            if(event.target.checked)\r\n                newFormState.extras.push(extra);\r\n            else\r\n                newFormState.extras = newFormState.extras.filter(value => value !== extra);\r\n        }\r\n        else if (category.type === \"radio\") {\r\n            newFormState.extras = newFormState.extras.filter(extra => !category.extras.includes(extra));\r\n            newFormState.extras.push(extra);\r\n        }\r\n            \r\n        setFormValues(newFormState);\r\n    }\r\n\r\n    const onRemarkChangeHandler = (value) => {\r\n        const newFormState = {...formValues};\r\n        newFormState.remark = value;\r\n        setFormValues(newFormState);\r\n    }\r\n\r\n    const extraCategories = props.dish.extraCategories.map(category => {\r\n\r\n        let extras;\r\n        \r\n        if (category.type === \"checkbox\"){\r\n            extras = category.extras.map(extra => \r\n                <div key={extra.name} className=\"extra-input\">\r\n                    <label htmlFor={extra.name}>{extra.name} {extra.price > 0 ? \" (\" + extra.price + \"₪)\" : null}</label>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        id={extra.name}\r\n                        checked={formValues.extras.includes(extra)}\r\n                        onChange={event => onChangeHandler(event, extra, category)}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n        else if (category.type === \"radio\") {\r\n            extras = category.extras.map(extra => \r\n                <div key={extra.name} className=\"extra-input\">\r\n                    <label htmlFor={extra.name}>{extra.name} {extra.price > 0 ? \" (\" + extra.price + \"₪)\" : null}</label>\r\n                    <input\r\n                        type=\"radio\"\r\n                        id={extra.name}\r\n                        checked={formValues.extras.includes(extra)}\r\n                        onChange={event => onChangeHandler(event, extra, category)}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div key={category.name} >\r\n                <h4>{category.name}</h4>\r\n                <div className=\"category-inputs\">{extras}</div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    let content = null;\r\n\r\n    if (!open) {\r\n        content = (\r\n            <div className=\"dish-name\" onClick={onClickHandler}>\r\n                <span>{props.dish.name}</span>\r\n                <span>{props.dish.price}₪</span>\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        content = (\r\n            <React.Fragment>\r\n                <div className=\"dish-name\" onClick={onClickHandler}>\r\n                    <span>{props.dish.name}</span>\r\n                    <span>{props.dish.price}₪</span>\r\n                </div>\r\n                <div className=\"dish-extras\">\r\n                    <div className=\"description-and-counter\">\r\n                        {props.dish.description}\r\n                        <Counter count={formValues.quantity} countHandler={counterChangeHandler}/>\r\n                    </div>\r\n                    <form onSubmit={formSubmitHandler}>\r\n                        {extraCategories}\r\n                        <h4>הערה למנה</h4>\r\n                        <div className=\"dish-description\">\r\n                            <input type=\"text\" onChange={event => onRemarkChangeHandler(event.target.value)}/>\r\n                        </div>\r\n                        <br/>\r\n                        <div className=\"add-dish-button\">\r\n                            <button type=\"submit\">הוסף להזמנה</button>\r\n                        </div>\r\n                    </form>\r\n                    <hr/>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default DishBlock;","import './Menu.css';\r\nimport React, {useContext} from 'react';\r\nimport OrdersPageContext from '../OrdersPageContext';\r\nimport DishBlock from './DishBlock/DishBlock';\r\n\r\nconst Menu = props => {\r\n\r\n    const foodCategories = useContext(OrdersPageContext).foodCategories;\r\n\r\n    const categories = foodCategories.map(category => {\r\n        const dishes = category.dishes.map(dish => {\r\n            if (dish.visible){\r\n                return (\r\n                    <div key={dish.name}>\r\n                        <DishBlock dish={dish} setOrder={props.setOrder}/>\r\n                    </div>\r\n                );\r\n            }\r\n            else    \r\n                return null;\r\n        });\r\n\r\n        return (\r\n            <div key={category.name}>\r\n                <h3>{category.name}</h3>\r\n                {dishes}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            <h2>תפריט</h2>\r\n            {categories}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;","import './DishInCart.css';\r\n\r\nconst DishInCart = props => {\r\n\r\n    let price = parseFloat(props.dishInCart.dish.price); \r\n    let extrasList = \"\";\r\n\r\n    for(let i = 0; i < props.dishInCart.extras.length; i++) {\r\n        price += parseFloat(props.dishInCart.extras[i].price);\r\n        \r\n        if (i < props.dishInCart.extras.length - 1)\r\n            extrasList += props.dishInCart.extras[i].name + \", \";\r\n        else\r\n            extrasList += props.dishInCart.extras[i].name;\r\n    }\r\n\r\n    const cartDishRemoveHandler = () => {\r\n        const newOrder = {...props.order};\r\n        newOrder.dishes_in_order = newOrder.dishes_in_order.filter(dish => dish !== props.dishInCart);\r\n        props.setOrder(newOrder);\r\n    }\r\n\r\n    const content = (\r\n        <div className=\"dish-in-cart\">\r\n            <div className=\"name-and-price\">\r\n                <h4>{props.dishInCart.quantity + \" × \" + props.dishInCart.dish.name}</h4>\r\n                <p>₪{price * parseFloat(props.dishInCart.quantity)}</p>\r\n            </div>\r\n            {extrasList}\r\n            <div className=\"delete\">\r\n                <i className=\"fas fa-trash-alt\" onClick={cartDishRemoveHandler}></i>\r\n            </div>\r\n            <hr/>\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default DishInCart;","import './Cart.css';\r\nimport DishInCart from './DishInCart/DishInCart';\r\n\r\nconst Cart = props => {\r\n\r\n    let totalPrice = 0;\r\n\r\n    const addToPrice = dishInOrder => {\r\n        let addedPrice = parseFloat(dishInOrder.dish.price);\r\n        dishInOrder.extras.forEach(extra => {\r\n            addedPrice += parseFloat(extra.price);\r\n        });\r\n        totalPrice += addedPrice * dishInOrder.quantity;\r\n    };\r\n\r\n    const dishesInOrder = props.order.dishes_in_order.map(dishInOrder => {\r\n        addToPrice(dishInOrder);\r\n        return <DishInCart key={Math.random()} dishInCart={dishInOrder} order={props.order} setOrder={props.setOrder}/>\r\n    });\r\n\r\n    return (\r\n        <aside className=\"cart-window\">\r\n            <h3>עגלת הזמנה</h3>\r\n            <div className=\"dishes-in-order\">\r\n               {dishesInOrder} \r\n            </div>\r\n            {totalPrice > 0 ?\r\n            <div className=\"total-price\">\r\n                <h4>{`סה\"כ ₪` + totalPrice}</h4>\r\n            </div>\r\n            : <p>העגלה ריקה</p>\r\n            }\r\n        </aside>\r\n    );\r\n}\r\n\r\nexport default Cart;","import './TimingOrder.css';\r\nimport React, {useState} from 'react';\r\n\r\nconst TimingOrder = props => {\r\n\r\n    const [timing, setTiming] = useState(15);\r\n    const [choiceNumberValue, setChoiceNumberValue] = useState(15);\r\n\r\n    // default is 15 minutes\r\n    const choiceHandler = (value) => {\r\n        if(value === 10) {\r\n            setTiming(10);\r\n            setChoiceNumberValue(10);\r\n        }\r\n        else if(value === 15 || value <= 0) {\r\n            setTiming(15);\r\n            setChoiceNumberValue(15);\r\n        }\r\n        else if(value === 20) {\r\n            setChoiceNumberValue(20);\r\n            setTiming(20);\r\n        }\r\n        else {\r\n            setTiming(value);\r\n            setChoiceNumberValue(value);\r\n        }\r\n    }\r\n\r\n\r\n    let content = (\r\n        <div className=\"timing-orders\">\r\n            <div className=\"timing-choices\">\r\n                {timing === 10 ?\r\n                    <div className=\"choice selected\">\r\n                        <span>דקות</span> <span>10</span>\r\n                    </div>\r\n                :\r\n                    <div className=\"choice\" onClick={() => choiceHandler(10)}>\r\n                            <span>דקות</span> <span>10</span>\r\n                    </div> \r\n                }\r\n                {timing === 15 ?\r\n                    <div className=\"choice selected\">\r\n                        <span>דקות</span> <span>15</span>\r\n                    </div>\r\n                :\r\n                    <div className=\"choice\" onClick={() => choiceHandler(15)}>\r\n                            <span>דקות</span> <span>15</span>\r\n                    </div> \r\n                }\r\n                {timing === 20 ?\r\n                    <div className=\"choice selected\">\r\n                        <span>דקות</span> <span>20</span>\r\n                    </div>\r\n                :\r\n                    <div className=\"choice\" onClick={() => choiceHandler(20)}>\r\n                            <span>דקות</span> <span>20</span>\r\n                    </div> \r\n                }\r\n                <div className=\"number-choice\">\r\n                    <input type=\"number\" value={choiceNumberValue} onChange={event => choiceHandler(event.target.value)} />\r\n                    :אחר \r\n                </div>\r\n            </div>\r\n            <div className=\"time-order\" onClick={() => props.timingButtonHandler(timing)}>\r\n                {props.invalid ?\r\n                <h1>תזמן הזמנה (נתונים חסרים / עגלה ריקה)</h1>\r\n                : <h1>תזמן הזמנה</h1>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default TimingOrder;","import React, {useState} from 'react';\r\nimport './AddOrder.css';\r\nimport axios from 'axios';\r\nimport {getCookie} from '../../../assets/functions';\r\nimport OrderDetails from './OrderDetails/OrderDetails';\r\nimport Menu from './Menu/Menu';\r\nimport Cart from './Cart/Cart';\r\nimport TimingOrder from '../../../components/TimingOrder/TimingOrder';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\n \r\n\r\nconst AddOrder = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const [order, setOrder] = useState({\r\n        restaurant: props.restaurantId,\r\n        city: \"\",\r\n        street: \"\",\r\n        number: \"\",\r\n        apartment: \"\",\r\n        customer: {\r\n            phone_number: \"\",\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            email: \"\"\r\n        },\r\n        remark: \"\",\r\n        dishes_in_order: []\r\n    });\r\n\r\n    // valid only when all are true. updating in realtime on each onChange()\r\n    const [validation, setValidation] = useState(\r\n        {\r\n            phone_number: false,\r\n            email: true,    // not a required field, so true as default\r\n            first_name: false,\r\n            last_name: false,\r\n            city: false,\r\n            street: false,\r\n            number: false,\r\n            apartment: true, // not a required field, so true as default\r\n            nonEmptyCart: false\r\n        }\r\n    );\r\n    \r\n    // updating on submit (to color the unvalid fields in red)\r\n    const [submitValidation, setSubmitValidation] = useState(\r\n        {\r\n            phone_number: true,\r\n            email: true,\r\n            first_name: true,\r\n            last_name: true,\r\n            city: true,\r\n            street: true,\r\n            number: true,\r\n            apartment: true,\r\n            nonEmptyCart: true\r\n        }\r\n    );\r\n\r\n    const [invalid, setInvalid] = useState(false);\r\n    \r\n    const allValid = () => {\r\n        for (let key in validation) {\r\n            if (!validation[key])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const createNewOrderWithIds = () => {        \r\n        const newOrder = {\r\n            ...order,\r\n            dishes_in_order: [...order.dishes_in_order]\r\n        };\r\n\r\n        for(let i = 0; i < order.dishes_in_order.length; i++){\r\n            newOrder.dishes_in_order[i] = {\r\n                ...order.dishes_in_order[i],\r\n                dish: order.dishes_in_order[i].dish.id,\r\n                extras: [...order.dishes_in_order[i].extras],\r\n            }\r\n            for(let j=0; j < order.dishes_in_order[i].extras.length; j++) {\r\n                newOrder.dishes_in_order[i].extras[j] = order.dishes_in_order[i].extras[j].id;\r\n            }\r\n        }\r\n        \r\n        return(newOrder);\r\n    }\r\n\r\n    const submitHandler = (timing) => {\r\n        if (allValid()){\r\n            setStatus('loading');\r\n\r\n            const newOrder = createNewOrderWithIds();\r\n            newOrder.status = \"process\";\r\n            newOrder.date_time = new Date(Date.now() + timing * 60 * 1000);\r\n\r\n            const originURL = window.location.origin;\r\n\r\n            const csrftoken = getCookie('csrftoken');\r\n            axios.post(originURL + '/order_add',\r\n                newOrder,\r\n                {\r\n                    headers: {'X-CSRFTOKEN': csrftoken,},\r\n                },\r\n            )\r\n            .then(res => {\r\n                console.log(\"SUCCESS adding order\")\r\n                props.successClose();\r\n                window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ERROR posting order\");\r\n                console.log(err.message);\r\n                setStatus(\"error\");\r\n            })\r\n        }\r\n        else {\r\n            setSubmitValidation(validation);\r\n            setInvalid(true);\r\n        }\r\n    }\r\n\r\n    if (order.dishes_in_order.length === 0 && validation.nonEmptyCart){\r\n        const newValidation = validation;\r\n        newValidation.nonEmptyCart = false;\r\n        setValidation(newValidation);\r\n        setInvalid(true);\r\n    }\r\n    else if (order.dishes_in_order.length > 0 && !validation.nonEmptyCart){\r\n        const newValidation = validation;\r\n        newValidation.nonEmptyCart = true;\r\n        setValidation(newValidation);\r\n        setInvalid(false);\r\n    }\r\n\r\n    let content;\r\n\r\n    if (status === 'loading'){\r\n        content = (\r\n            <div className = \"spinner-or-error\">\r\n                <Spinner/>\r\n            </div>\r\n        );\r\n    }\r\n    else if (status === 'error'){\r\n        content = (\r\n            <div className = \"spinner-or-error\">\r\n                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                <br/>\r\n                שגיאת תקשורת ביצירת ההזמנה\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        content = (\r\n            <div className=\"add-order-window\">\r\n                <div class=\"cart-and-details\">\r\n                    <div className=\"customer-and-menu\">\r\n                        <OrderDetails\r\n                            order={order}\r\n                            setOrder={setOrder}\r\n                            validation={validation}\r\n                            setValidation={setValidation}\r\n                            validFields={submitValidation}\r\n                            setValidFields={setSubmitValidation}\r\n                            setInvalid={setInvalid}\r\n                            />\r\n                        <Menu setOrder={setOrder}/>\r\n                    </div>\r\n                    <Cart order={order} setOrder={setOrder}/>\r\n                </div>\r\n                <TimingOrder timingButtonHandler={submitHandler} invalid={invalid}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default AddOrder;","import './ViewOrder.css';\r\nimport React, {useState} from 'react';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport axios from 'axios';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst ViewOrder = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const backButtonHandler = () => {\r\n        const newOrder = {...props.order};\r\n        newOrder.customer = newOrder.customer.id;\r\n\r\n        switch (newOrder.status){\r\n            case \"ready\":\r\n                newOrder.status = 'process';\r\n                break;\r\n            case \"sent\":\r\n                newOrder.status = 'ready';\r\n                break;\r\n            case \"delivered\":\r\n                newOrder.status = 'sent';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        \r\n        setStatus('loading');\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + '/order/' + newOrder.id + '/',\r\n            newOrder,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log('SUCCESS updating the order');\r\n            newOrder.customer = props.order.customer;\r\n            props.orderUpdateHandler(newOrder);\r\n            props.modalClose(false);\r\n        })\r\n        .catch(err => {\r\n            setStatus('error');\r\n            console.log('ERROR updating the order');\r\n            console.log(err.message);\r\n        })\r\n    }\r\n\r\n    let backButton = null;\r\n    if(props.order.status !== \"process\"){\r\n        if(status === 'loading'){\r\n            backButton = <span className='spinner'><Spinner/></span>;\r\n        }\r\n        else if(status === 'error'){\r\n            backButton = (\r\n                <div class=\"back-button\">\r\n                    שגיאת תקשורת\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            backButton = (\r\n                <div class=\"back-button\">\r\n                    <button onClick={backButtonHandler}>החזר למצב הקודם</button>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    let street, number, apartment;\r\n    street = number = apartment = '';\r\n\r\n    if(props.order.street)\r\n        street = \" \" + props.order.street;\r\n    if(props.order.number)\r\n        number = \" \" + String(props.order.number);\r\n    if(props.order.apartment)\r\n        apartment = \" דירה \" + String(props.order.apartment);\r\n\r\n    const content = (\r\n        <div className=\"view-order-window\">\r\n            <div className=\"order-number\"><b>#{props.order.id}</b></div>\r\n            <div className=\"inside-window\">\r\n                <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                <div className=\"address\">{props.order.city + street + number + apartment}</div>\r\n                <hr/>\r\n                <div className=\"food-section\">\r\n                    <i className=\"fas fa-hamburger\"></i>\r\n                    <div>\r\n                        {props.order.dishesinorder.map(dishInOrder => {\r\n                            let extras = [];\r\n                            for (let i = 0; i < dishInOrder.extras.length; i++) {\r\n                                if (i < dishInOrder.extras.length - 1)\r\n                                    extras.push(dishInOrder.extras[i].name + \", \");\r\n                                else\r\n                                    extras.push(dishInOrder.extras[i].name);\r\n                            }\r\n                            let remark = null;\r\n                            if (dishInOrder.remark)\r\n                                remark = <p className=\"food\">{dishInOrder.remark}{\" \"}<i className=\"fas fa-exclamation-triangle\"></i></p>\r\n                            return (\r\n                                <div key={Math.random()}>\r\n                                    {dishInOrder.dish.name + \" × \" + dishInOrder.quantity}\r\n                                    <p className=\"food\">{extras}</p>\r\n                                    {remark}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                {props.order.remark ?\r\n                <React.Fragment>\r\n                    <hr/>\r\n                    <div className=\"remark-section\">\r\n                        <i className=\"fas fa-exclamation-triangle\"></i>\r\n                        <div>\r\n                            <p className=\"remark\">{props.order.remark}</p>\r\n                        </div>\r\n                    </div>\r\n                </React.Fragment>\r\n                : null   \r\n                }\r\n            </div>\r\n            {backButton}\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default ViewOrder;","import './NewOrder.css';\r\nimport React, {useState} from 'react';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport TimingOrder from '../../../components/TimingOrder/TimingOrder';\r\nimport {getCookie} from '../../../assets/functions';\r\nimport axios from 'axios';\r\n\r\nconst NewOrder = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n    \r\n    const timingButtonHandler = (timing) => {\r\n        const newOrder = {...props.order};\r\n\r\n        newOrder.date_time = new Date(Date.now() + timing * 60 * 1000);\r\n        newOrder.status = 'process';\r\n        newOrder.customer = newOrder.customer.id;\r\n\r\n        setStatus('loading');\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + '/order/' + newOrder.id + '/',\r\n            newOrder,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log('SUCCESS updating order');\r\n            newOrder.customer = props.order.customer;\r\n            setStatus(null);\r\n            props.orderUpdateHandler(newOrder);\r\n            props.modalClose(false);\r\n        })\r\n        .catch(err => {\r\n            setStatus('error');\r\n            console.log('ERROR updating order');\r\n            console.log(err.message);\r\n        })\r\n\r\n    }\r\n\r\n    let content = null;\r\n    let timingOrder = null;\r\n\r\n    if(status === 'error'){\r\n        content = (\r\n            <div className=\"new-order-window error\">\r\n                שגיאת תקשורת\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        if (status === 'loading'){\r\n            timingOrder = <span className='spinner'><Spinner/></span>;\r\n        }\r\n        else {\r\n            timingOrder = (\r\n                <TimingOrder timingButtonHandler={timingButtonHandler}/>\r\n            );\r\n        }\r\n\r\n        let street, number, apartment;\r\n        street = number = apartment = '';\r\n    \r\n        if(props.order.street)\r\n            street = \" \" + props.order.street;\r\n        if(props.order.number)\r\n            number = \" \" + String(props.order.number);\r\n        if(props.order.apartment)\r\n            apartment = \" דירה \" + String(props.order.apartment);\r\n\r\n        content = (\r\n            <div className=\"new-order-window\">\r\n                <div className=\"order-number\"><b>#{props.order.id}</b></div>\r\n                <div className=\"inside-window\">\r\n                    <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                    <div className=\"address\">{props.order.city + street + number + apartment}</div>\r\n                    <hr/>\r\n                    <div className=\"food-section\">\r\n                        <i className=\"fas fa-hamburger\"></i>\r\n                        <div>\r\n                            {props.order.dishesinorder.map(dishInOrder => {\r\n                                let extras = [];\r\n                                for (let i = 0; i < dishInOrder.extras.length; i++) {\r\n                                    if (i < dishInOrder.extras.length - 1)\r\n                                        extras.push(dishInOrder.extras[i].name + \", \");\r\n                                    else\r\n                                        extras.push(dishInOrder.extras[i].name);\r\n                                }\r\n                                let remark = null;\r\n                                if (dishInOrder.remark)\r\n                                    remark = <p className=\"food\">{dishInOrder.remark}{\" \"}<i className=\"fas fa-exclamation-triangle\"></i></p>\r\n                                return (\r\n                                    <div key={Math.random()}>\r\n                                        {dishInOrder.dish.name + \" × \" + dishInOrder.quantity}\r\n                                        <p className=\"food\">{extras}</p>\r\n                                        {remark}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    {props.order.remark ?\r\n                    <React.Fragment>\r\n                        <hr/>\r\n                        <div className=\"remark-section\">\r\n                            <i className=\"fas fa-exclamation-triangle\"></i>\r\n                            <div>\r\n                                <p className=\"remark\">{props.order.remark}</p>\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment>\r\n                    : null   \r\n                    }\r\n                </div>\r\n                {timingOrder}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default NewOrder;","import './ToggleSwitch.css';\r\n\r\nconst ToggleSwitch = props => {\r\n\r\n    return (\r\n        <label className=\"switch\">\r\n            <input type=\"checkbox\" checked={props.checked} onChange={props.toggleHandler}/>\r\n            <span className=\"slider\"></span>\r\n        </label>\r\n    );\r\n}\r\n\r\nexport default ToggleSwitch;\r\n\r\n//  ","import './MenuSiteClosure.css';\r\nimport React, {useState} from 'react';\r\nimport ToggleSwitch from '../../../components/ToggleSwitch/ToggleSwitch';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport axios from 'axios';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst MenuSiteClosure = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const toggleHandler = event => {    \r\n        const newRestaurant = {...props.restaurant};\r\n        newRestaurant.menu_open = event.target.checked;\r\n        delete newRestaurant.background_img;\r\n\r\n        if (event.target.checked !== props.restaurant.menu_open){\r\n            setStatus(\"loading\");\r\n            const originURL = window.location.origin;\r\n            const csrftoken = getCookie('csrftoken');\r\n\r\n            axios.put(originURL + \"/my_restaurant\",\r\n                newRestaurant,\r\n                {\r\n                    headers: {'X-CSRFTOKEN': csrftoken,},\r\n                },\r\n            )\r\n            .then(res => {\r\n                console.log(\"SUCCESS updating restaurant\");\r\n                props.setRestaurant(newRestaurant);\r\n                setStatus(null);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ERROR updating restaurant\");\r\n                console.log(err.message);\r\n                setStatus(\"error\");\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    let content;\r\n\r\n    if (status === \"loading\"){\r\n        content = (\r\n            <div className=\"loading-and-error\">\r\n                <Spinner/>\r\n            </div> \r\n        );\r\n    }\r\n    else if (status === \"error\"){\r\n        content = (\r\n            <div className=\"loading-and-error\">\r\n                שגיאת תקשורת\r\n            </div> \r\n        );\r\n    }\r\n    else {\r\n        content = (\r\n            <React.Fragment>\r\n                {props.restaurant.menu_open ? <p>האתר פתוח להזמנות</p>\r\n                : <p>האתר סגור להזמנות</p>}\r\n                <ToggleSwitch checked={props.restaurant.menu_open} toggleHandler={toggleHandler}/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"menu-site-closure\">\r\n            <h2>פתיחת/השבתת אתר התפריט ללקוחות</h2>\r\n            {content} \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MenuSiteClosure;","import React, {useState, useEffect} from 'react';\r\nimport './DishesVisibility.css';\r\nimport axios from 'axios';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst DishesVisibility = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const createNewFoodCategories = oldFoodCategories => {\r\n        const newFoodCategories = [...oldFoodCategories];\r\n        for (let i = 0; i < oldFoodCategories.length; i++) {\r\n            newFoodCategories[i] = {...oldFoodCategories[i]}\r\n            newFoodCategories[i].dishes = [...oldFoodCategories[i].dishes]\r\n            for(let j = 0; j < oldFoodCategories[i].dishes.length; j++) {\r\n                newFoodCategories[i].dishes[j] = {...oldFoodCategories[i].dishes[j]}\r\n            }\r\n        }\r\n        return newFoodCategories;\r\n    }\r\n\r\n    const [foodCategories, setFoodCategories] = useState(createNewFoodCategories(props.foodCategories));\r\n\r\n    const onChangeHandler = (event, id) => {\r\n        const newFoodCategories = createNewFoodCategories(foodCategories);\r\n        newFoodCategories.forEach(category => {\r\n            category.dishes.forEach(dish => {\r\n                if (dish.id === id)\r\n                    dish.visible = event.target.checked;\r\n            })\r\n        })\r\n        setFoodCategories(newFoodCategories);\r\n    }\r\n\r\n    const onSubmitHandler = () => {\r\n        setStatus(\"loading\");\r\n\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + \"/dishes_visibility\",\r\n            foodCategories,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log(\"SUCCESS updating dishes visibility\");\r\n            props.setFoodCategories(foodCategories);\r\n            setStatus(null);\r\n            props.modalClose(false);\r\n        })\r\n        .catch(err => {\r\n            setStatus(\"error\");\r\n            console.log(\"Error updating dishes visibility\");\r\n            console.log(err.message);\r\n        });\r\n    }\r\n\r\n    let content = null;\r\n    if (status === \"loading\") {\r\n        content = (\r\n            <div className=\"spinner-and-error\">\r\n                <Spinner/>\r\n            </div>\r\n        );\r\n    }\r\n    else if (status === \"error\"){\r\n        content = (\r\n            <div className=\"spinner-and-error\">\r\n                שגיאת תקשורת\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        const foodCategoriesContent = foodCategories.map(category => {\r\n            const dishes = category.dishes.map(dish => \r\n                <div className=\"dish-input\" key={dish.name}>\r\n                    <input type=\"checkbox\" id={dish.name} checked={dish.visible} onChange={event => onChangeHandler(event, dish.id)}/>\r\n                    <label htmlFor={dish.name}>{dish.name}</label>\r\n                </div>\r\n            );\r\n\r\n            return (\r\n                <React.Fragment key={category.name}>\r\n                    <h3>{category.name}</h3>\r\n                    {dishes}\r\n                </React.Fragment>\r\n            ); \r\n        });\r\n\r\n        content = (\r\n            <React.Fragment>\r\n                {foodCategoriesContent}\r\n                <div className=\"update-button\" onClick={onSubmitHandler}>עדכן</div>\r\n            </React.Fragment>\r\n        );\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className=\"dishes-visibility\">\r\n            <h2>סימון מנות שיופיעו בתפריט</h2>\r\n            {content}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DishesVisibility;","import './Orders.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport OrderWindow from './OrderWindow/OrderWindow';\r\nimport OrderSmallWindow from './OrderSmallWindow/OrderSmallWindow';\r\nimport SubHeader from './SubHeader/SubHeader';\r\nimport PageHeader from '../../components/PageHeader/PageHeader';\r\nimport Modal from '../../components/Modal/Modal';\r\nimport AddOrder from './AddOrder/AddOrder';\r\nimport ViewOrder from './ViewOrder/ViewOrder';\r\nimport NewOrder from './NewOrder/NewOrder';\r\nimport MenuSiteClosure from './MenuSiteClosure/MenuSiteClosure';\r\nimport DishesVisibility from './DishesVisibility/DishesVisibility';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport OrdersPageContext from './AddOrder/OrdersPageContext';\r\n\r\n\r\nconst Orders = props => {\r\n\r\n    const [orders, setOrders] = useState(null);\r\n    const [customersList, setCustomersList] = useState(null);\r\n    const [restaurant, setRestaurant] = useState(null);\r\n    const [foodCategories, setFoodCategories] = useState(null);\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n    const [shouldRefresh, setShouldRefresh] = useState(false);\r\n    const [addOrderWindow, setAddOrderWindow] = useState(false);\r\n    const [viewOrderWindow, setViewOrderWindow] = useState(false);\r\n    const [newOrderWindow, setNewOrderWindow] = useState(false);\r\n    const [menuSiteClosureWindow, setMenuSiteClosureWindow] = useState(false);\r\n    const [dishesVisibilityWindow, setDishesVisibilityWindow] = useState(false);\r\n\r\n    const allModalClosed = () => {\r\n        return (!addOrderWindow && !viewOrderWindow && !newOrderWindow && !menuSiteClosureWindow && !dishesVisibilityWindow);\r\n    }\r\n\r\n    if (shouldRefresh && allModalClosed()) {\r\n        window.location.reload();\r\n    }\r\n\r\n    let newOrders = null;\r\n    if (orders){\r\n        newOrders = orders.filter(order => order.status === 'new');\r\n        if (newOrders.length > 0 && !newOrderWindow) {\r\n            setNewOrderWindow(newOrders[0]);\r\n        }\r\n    }\r\n\r\n    const originURL = window.location.origin;\r\n\r\n    useEffect(() => {\r\n        const getCustomers = axios.get(originURL + \"/customers\");\r\n        const getOrders = axios.get(originURL + \"/orders\");\r\n        const getRestaurant = axios.get(originURL + \"/my_restaurant\");\r\n\r\n        axios.all([getCustomers, getOrders, getRestaurant])\r\n            .then((responses) => {\r\n                console.log(\"SUCCESS getting customers, orders and restaurant\");\r\n                \r\n                setCustomersList(responses[0].data);\r\n                setOrders(responses[1].data);\r\n                setRestaurant(responses[2].data)\r\n\r\n                axios.get(originURL + '/foodcategories/' + responses[2].data.id + '/')\r\n                    .then((res) => {\r\n                        console.log(\"SUCCESS getting foodcategories\");\r\n                        setFoodCategories(res.data);\r\n                        setLoading(false);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"ERROR getting foodcategories\");\r\n                        console.log(err.message);\r\n                        setError(err);\r\n                    })\r\n                \r\n            })\r\n            .catch((errors) => {\r\n                console.log(\"ERROR getting customers, orders and my_restaurant\");\r\n                console.log(errors);\r\n                setError(errors);\r\n            })\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const dbOrdersChanged = (newOrders) => {\r\n            if (newOrders.length !== orders.length) \r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n\r\n        if(!loading && !error){\r\n            const interval = setInterval(() => {\r\n                axios.get(originURL + \"/orders\")\r\n                .then(res => {\r\n                    console.log(\"SUCCESS getting orders\");\r\n                    if(dbOrdersChanged(res.data)){\r\n                        clearInterval(interval);\r\n                        setShouldRefresh(true);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error getting orders\");\r\n                    console.log(err.message);\r\n                })\r\n                \r\n            }, 30000);\r\n        }\r\n    }, [loading, error]);\r\n\r\n    const orderUpdateHandler = newOrder => {\r\n        const newOrders = [...orders];\r\n        for (let i=0; i < newOrders.length; i++){\r\n            if(newOrders[i].id === newOrder.id)\r\n                newOrders[i] = newOrder;\r\n        }\r\n        setOrders(newOrders);\r\n    }\r\n\r\n    const errorMessage = (\r\n        <div className=\"error-message\">\r\n            <p>\r\n                <i className=\"fas fa-exclamation-triangle\"></i>\r\n            </p>\r\n            <p>שגיאת תקשורת</p>\r\n        </div>\r\n    );\r\n\r\n    let content = null;\r\n\r\n    if (loading) {\r\n        content = <div className=\"spinner\"><Spinner/></div>\r\n    }\r\n    else if(error){\r\n        content =  errorMessage;\r\n    }\r\n    else {\r\n        // creating order windows for map()\r\n        const orderWindowCreator = (order) => {\r\n            return (\r\n                <OrderWindow\r\n                    key={order.id}\r\n                    order={order}\r\n                    orderUpdateHandler={orderUpdateHandler}\r\n                    click={() => setViewOrderWindow(order)}\r\n                />\r\n            );\r\n        }\r\n\r\n        const ordersProcess = orders.filter(order => order.status === \"process\")\r\n                    .map(orderWindowCreator);\r\n\r\n        const ordersReady = orders.filter(order => order.status === \"ready\")\r\n                    .map(orderWindowCreator);\r\n\r\n        const ordersSent = orders.filter(order => order.status === \"sent\")\r\n                    .map(order => (\r\n                        <OrderSmallWindow\r\n                            key={order.id}\r\n                            order={order}\r\n                            click={() => setViewOrderWindow(order)}\r\n                        />\r\n                    ));\r\n\r\n        //  delivered orders for history\r\n        \r\n        const addOrder = <AddOrder customersList={customersList} restaurantId={restaurant.id} successClose={() => setAddOrderWindow(false)}/>\r\n\r\n        const viewOrder = <ViewOrder order={viewOrderWindow} orderUpdateHandler={orderUpdateHandler} modalClose={setViewOrderWindow}/>\r\n\r\n        const newOrder = <NewOrder order={newOrderWindow} orderUpdateHandler={orderUpdateHandler} modalClose={setNewOrderWindow}/>\r\n\r\n        const menuSiteClosure = <MenuSiteClosure restaurant={restaurant} setRestaurant={setRestaurant}/>\r\n\r\n        const dishesVisibility = <DishesVisibility foodCategories={foodCategories} setFoodCategories={setFoodCategories} modalClose={setDishesVisibilityWindow}/>;\r\n\r\n        content = (\r\n            <React.Fragment>\r\n\r\n                {viewOrderWindow ? <Modal content={viewOrder} modalClick={() => setViewOrderWindow(false)}/> : null}\r\n                {addOrderWindow ? <Modal content={addOrder} modalClick={() => setAddOrderWindow(false)}/> : null}\r\n                {newOrderWindow ? <Modal content={newOrder}/> : null}\r\n                {addOrderWindow ? <Modal content={addOrder} modalClick={() => setAddOrderWindow(false)}/> : null}\r\n                {menuSiteClosureWindow ? <Modal content={menuSiteClosure} modalClick={() => setMenuSiteClosureWindow(false)}/> : null}\r\n                {dishesVisibilityWindow ? <Modal content={dishesVisibility} modalClick={() => setDishesVisibilityWindow(false)}/> : null}\r\n\r\n                <PageHeader/>\r\n                <main>\r\n                    <SubHeader\r\n                        addOrderHandler={() => setAddOrderWindow(true)}\r\n                        menuSiteClosureHandler={() => setMenuSiteClosureWindow(true)}\r\n                        dishesVisibilityHandler={() => setDishesVisibilityWindow(true)}\r\n                    />\r\n                    <div className=\"all-orders-window\">\r\n                        <div className=\"columns-titles\">\r\n                            <h3>נאסף</h3>\r\n                            <div className=\"title-seperator\"></div>\r\n                            <h3>מוכן לאיסוף</h3>\r\n                            <div className=\"title-seperator\"></div>\r\n                            <h3>בטיפול</h3>\r\n                        </div>\r\n                        <div className=\"orders-columns\">\r\n                            <div className=\"orders-column\">\r\n                                {ordersProcess}\r\n                            </div>\r\n                            <div className=\"column-seperation\"></div>\r\n                            <div className=\"orders-column\">\r\n                                {ordersReady}\r\n                            </div>\r\n                            <div className=\"column-seperation\"></div>\r\n                            <div className=\"orders-column\">\r\n                                {ordersSent}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </main>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <OrdersPageContext.Provider value={{customersList: customersList, foodCategories: foodCategories}}>\r\n            {content}\r\n        </OrdersPageContext.Provider>\r\n    );\r\n}\r\n\r\nexport default Orders;","import './App.css';\nimport Orders from './containers/Orders/Orders';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Orders/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}