{"version":3,"sources":["components/Countdown/Countdown.js","components/Spinner/Spinner.js","assets/functions.js","containers/Orders/OrderWindow/OrderWindow.js","containers/Orders/OrderSmallWindow/OrderSmallWindow.js","assets/img/add.png","assets/img/addHover.png","containers/Orders/SubHeader/SubHeader.js","components/PageHeader/PageHeader.js","assets/img/logo.jpg","components/Modal/Modal.js","containers/Orders/AddOrder/OrdersPageContext.js","containers/Orders/AddOrder/OrderDetails/OrderDetails.js","components/Counter/Counter.js","containers/Orders/AddOrder/Menu/DishBlock/DishBlock.js","containers/Orders/AddOrder/Menu/Menu.js","containers/Orders/AddOrder/Cart/DishInCart/DishInCart.js","containers/Orders/AddOrder/Cart/Cart.js","components/TimingOrder/TimingOrder.js","containers/Orders/AddOrder/AddOrder.js","containers/Orders/ViewOrder/ViewOrder.js","containers/Orders/NewOrder/NewOrder.js","components/ToggleSwitch/ToggleSwitch.js","containers/Orders/MenuSiteClosure/MenuSiteClosure.js","containers/Orders/DishesVisibility/DishesVisibility.js","containers/Orders/Orders.js","App.js","reportWebVitals.js","index.js"],"names":["Countdown","props","useState","Date","getTime","now","setNow","distance","countDownDate","hours","Math","floor","abs","minutes","seconds","useEffect","setTimeout","content","className","style","color","fontWeight","Spinner","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","OrderWindow","status","setStatus","nextButton","order","class","onClick","newOrder","ready_date_time","customer","id","originURL","window","location","origin","csrftoken","axios","put","headers","then","res","console","log","orderUpdateHandler","catch","err","message","parse","process_date_time","click","first_name","last_name","city","street","number","dishesinorder","slice","map","dishInOrder","dish","quantity","remark","Fragment","OrderSmallWindow","SubHeader","addHover","setAddHover","src","addHoverImg","alt","onMouseOut","addOrderHandler","addImg","onMouseOver","historyHandler","menuSiteClosureHandler","dishesVisibilityHandler","PageHeader","href","width","height","Modal","modalClick","OrdersPageContext","React","createContext","OrderDetails","customersList","useContext","onChangeHandler","event","fieldName","newValidation","validation","newValidFields","validFields","phone_number","target","value","test","forEach","email","apartment","setInvalid","phoneSetAutoFill","includes","setOrder","setValidation","setValidFields","type","placeholder","onChange","min","step","Counter","countHandler","count","DishBlock","open","setOpen","initialForm","extras","extraCategories","category","push","formValues","setFormValues","onClickHandler","extra","newFormState","checked","filter","htmlFor","price","description","newForm","onSubmit","preventDefault","prevState","newState","dishes_in_order","onRemarkChangeHandler","Menu","categories","foodCategories","dishes","visible","DishInCart","parseFloat","dishInCart","extrasList","Cart","totalPrice","dishesInOrder","addedPrice","addToPrice","random","TimingOrder","timing","setTiming","choiceNumberValue","setChoiceNumberValue","choiceHandler","timingButtonHandler","invalid","AddOrder","restaurant","restaurantId","nonEmptyCart","submitValidation","setSubmitValidation","key","allValid","j","createNewOrderWithIds","post","successClose","reload","getTimeFromString","dateTime","getHours","toString","getMinutes","ViewOrder","backButtonHandler","canceled_date_time","sent_date_time","delivered_date_time","modalClose","buttons","String","creationTime","creation_date_time","creationDate","readyTime","sentTime","deliveredTime","canceledTime","datesSection","NewOrder","timingOrder","ToggleSwitch","toggleHandler","MenuSiteClosure","menu_open","newRestaurant","background_img","setRestaurant","DishesVisibility","createNewFoodCategories","oldFoodCategories","newFoodCategories","setFoodCategories","foodCategoriesContent","Orders","orders","setOrders","setCustomersList","page","setPage","loading","setLoading","error","setError","shouldRefresh","setShouldRefresh","addOrderWindow","setAddOrderWindow","viewOrderWindow","setViewOrderWindow","newOrderWindow","setNewOrderWindow","menuSiteClosureWindow","setMenuSiteClosureWindow","dishesVisibilityWindow","setDishesVisibilityWindow","newOrders","getCustomers","get","getOrders","getRestaurant","all","responses","data","errors","interval","setInterval","dbOrdersChanged","clearInterval","errorMessage","orderWindowCreator","ordersProcess","ordersReady","ordersSent","ordersDelivered","ordersCanceled","addOrder","viewOrder","menuSiteClosure","dishesVisibility","pageContent","Provider","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1289645e.chunk.js","sourcesContent":["import './Countdown.css'\r\nimport React, {useState, useEffect} from 'react';\r\n\r\nconst Countdown = props => {\r\n\r\n    const [now, setNow] = useState(new Date().getTime());\r\n\r\n    const distance = props.countDownDate - now;\r\n\r\n    const hours = Math.floor((Math.abs(distance) % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    let minutes = Math.floor((Math.abs(distance) % (1000 * 60 * 60)) / (1000 * 60));\r\n    if(minutes < 10)\r\n        minutes = \"0\" + minutes;\r\n    let seconds = Math.floor((Math.abs(distance) % (1000 * 60)) / 1000);\r\n    if(seconds < 10)\r\n        seconds = \"0\" + seconds;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setNow(new Date().getTime());\r\n        }, 1000);\r\n    }, [now]);\r\n\r\n    let content = (\r\n        <div className=\"timer\">\r\n            {hours + \":\" + minutes + \":\" + seconds}\r\n        </div>\r\n    );\r\n\r\n    \r\n\r\n    if(distance < 0){\r\n        content = (\r\n            <div className=\"timer\" style={{color: \"red\", fontWeight: \"bold\"}}>\r\n                -{hours + \":\" + minutes + \":\" + seconds}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default Countdown;","import './Spinner.css';\r\n\r\nconst Spinner = () => {\r\n    return (<div className=\"loader\"></div>);\r\n}\r\n\r\nexport default Spinner;","export const getCookie = name => {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}","import React, { useState } from 'react';\r\nimport './OrderWindow.css';\r\nimport Countdown from '../../../components/Countdown/Countdown';\r\nimport axios from 'axios';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst OrderWindow = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const nextButtonHandler = () => {\r\n        const newOrder = {...props.order};\r\n        newOrder.status = 'ready';\r\n        newOrder.ready_date_time = new Date(Date.now());\r\n        newOrder.customer = newOrder.customer.id;\r\n\r\n        setStatus('loading');\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + '/order/' + newOrder.id + '/',\r\n            newOrder,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log('SUCCESS updating the order');\r\n            newOrder.customer = props.order.customer;\r\n            props.orderUpdateHandler(newOrder);\r\n            setStatus(null);\r\n        })\r\n        .catch(err => {\r\n            setStatus('error');\r\n            console.log('ERROR updating the order');\r\n            console.log(err.message);\r\n        })\r\n    }\r\n\r\n    let nextButton = null;\r\n    if(props.order.status === \"process\"){\r\n        if(status === 'loading'){\r\n            nextButton = <span className='spinner'><Spinner/></span>;\r\n        }\r\n        else if(status === 'error'){\r\n            nextButton = (\r\n                <div class=\"next-button\">\r\n                    שגיאת תקשורת\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            nextButton = (\r\n                <div class=\"next-button\">\r\n                    <button onClick={nextButtonHandler}>מוכן</button>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"order-window\">\r\n            <div>\r\n                <div className=\"order-number-countdown\">\r\n                    <b>#{props.order.id}</b>\r\n                    {props.order.status === 'process' ?\r\n                        <Countdown countDownDate={Date.parse(props.order.process_date_time)}/>\r\n                        : null\r\n                    }\r\n                </div>\r\n                <div className=\"inside-window\" onClick={props.click}>\r\n                    <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                    <div className=\"address\">{props.order.city + \" \" + props.order.street + \" \" + props.order.number}</div>\r\n                    <hr/>\r\n                    <div className=\"food-section\">\r\n                        <i className=\"fas fa-hamburger\"></i>\r\n                        <div>\r\n                            {props.order.dishesinorder.slice(0, 2).map(dishInOrder => <p className=\"food\">{dishInOrder.dish.name + \" ×\" + dishInOrder.quantity}</p>)}\r\n                        </div>  \r\n                    </div>\r\n                    {props.order.remark ?\r\n                        <React.Fragment>\r\n                            <hr/>\r\n                            <div className=\"remark-section\">\r\n                                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                                <div>\r\n                                    <p className=\"remark\">{props.order.remark}</p>\r\n                                </div>\r\n                            </div>\r\n                        </React.Fragment>\r\n                        : null   \r\n                    }\r\n                </div>\r\n            </div>\r\n            {nextButton}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderWindow;","import './OrderSmallWindow.css';\r\nimport React from 'react';\r\n\r\nconst OrderSmallWindow = props => {\r\n\r\n    return (\r\n        <div className=\"order-small-window\">\r\n            <div className=\"order-number\"><b>#{props.order.id}</b></div>\r\n            <div className=\"inside-window\" onClick={props.click}>\r\n                <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                <div className=\"address\">{props.order.city + \" \" + props.order.street + \" \" + props.order.number}</div>\r\n                {props.order.remark ?\r\n                    <React.Fragment>\r\n                        <hr/>\r\n                        <div className=\"remark-section\">\r\n                            <i className=\"fas fa-exclamation-triangle\"></i>\r\n                            <div>\r\n                                <p className=\"remark\">{props.order.remark}</p>\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment>\r\n                    : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderSmallWindow;","export default __webpack_public_path__ + \"static/media/add.685caefe.png\";","export default __webpack_public_path__ + \"static/media/addHover.cba558ca.png\";","import './SubHeader.css';\r\nimport addImg from '../../../assets/img/add.png'\r\nimport addHoverImg from '../../../assets/img/addHover.png'\r\nimport React, {useState} from 'react';\r\n\r\nconst SubHeader = props => {\r\n    \r\n    const [addHover, setAddHover] = useState(false);\r\n\r\n    return (\r\n        <div className=\"sub-header\"> \r\n            <div className=\"add-order-button\">\r\n                {addHover\r\n                    ? <img src={addHoverImg} alt=\"hoverAdd\" onMouseOut={() => setAddHover(false)} onClick={props.addOrderHandler} />\r\n                    : <img src={addImg} alt=\"add\" onMouseOver={() => setAddHover(true)} />\r\n                }\r\n            </div>\r\n            <div className=\"navigation\">\r\n                <span className=\"navigation-button\" onClick={props.historyHandler}>\r\n                    <i class=\"fas fa-history\"></i>\r\n                    היסטורית הזמנות\r\n                </span>\r\n                <span className=\"separator\">|</span>\r\n                <span className=\"navigation-button\" onClick={props.menuSiteClosureHandler}>\r\n                    <i class=\"fas fa-store-slash\"></i>\r\n                    השבתת אתר התפריט\r\n                </span>\r\n                <span className=\"separator\">|</span>\r\n                <span className=\"navigation-button\" onClick={props.dishesVisibilityHandler}>\r\n                    <i class=\"fas fa-eye-slash\"></i>\r\n                    הסתרת/הצגת מנות\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SubHeader;","import './PageHeader.css';\r\nimport logoImg from '../../assets/img/logo.jpg';\r\n\r\nconst PageHeader = () => {\r\n    return (\r\n        <header>\r\n            <div className=\"logo\">\r\n                <a href=\"/\"><img src={logoImg} alt=\"logo\" width=\"132\" height=\"36\"/></a>\r\n            </div>\r\n\r\n            <div className=\"logout\">\r\n                <i className=\"fas fa-user header-icon\"></i>\r\n                <a href=\"/logout\">התנתק</a>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n    \r\nexport default PageHeader;","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAkACQAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAkAIQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD91K8I/aD/AOCk3wh/Zg+ITeFvGHiOay1uO3S5kggsJ7nylfJXc0akAkDODzgg969M+OPxg0n4A/CPxB4y1yTy9M8PWb3cozhpSOEjX/adyqD3YV+K/wCzn8Dte/4KgftIfELxFrt6LeRrC81aaYyhEF26MtlbKW/hD7eP7kRFAH7Hfs2ftVeCf2tvB15rvgbVJNU0/T7w2Fw0ltJbvHKER8bXAONrrg4wefQ16LX5A/8ABBT47t8N/wBpfXfAF/IYrbxnZkwRuT8t7a7nA9BmIzZ9Siivo/8A4Kp/8FCPit+w/wDFbQbbw5ZeGrrwz4i08zW819ZSSSJcRvtlj3LIoOA0TdP46APu+ivjD/gob/wU5u/2cv2e/hx4m8DxaZd6t8RI49StY9QiaSOOy8hZGJVWUht0sQHP96o/+CdH/BTq/wD2jvgT8TfEvj2HTbS9+HKf2lcDToGiiayaCR1wGZiX3QTDr3WgD7Tor4S/4Jaf8FA/iz+3H8Wdei1+w8M2fhHw7ZCW5lsrORJXuJWxDEGaQjosjHj+AetZmr/tC/tt/Ei3v9V8PfDnwz4S0OIyS241NYorlohkqWWebIO3GcqooA/QCivze/4Jp/8ABXjx5+0f+0Fp3w68a6dol3Jr0FybHUrKA2728sMEk/7xNxVkKxsPlwQcU/8AZ7/4LL+O/Fv7YOjfDPx34W8K6JFc63JoF/JaGbzre6DPEqgs5X/XhVPHQmgD9Hqqa5rtl4Z0e51DUbu2sLCzjMs9zcSiOKFByWZjgAD1NfHn/BUX/gqBqf7DvjDwv4d8M6Vo2s6xqtpLqF/HqHm4tYN4jhK7GXJdlm78eWOOa+JP+Cl37e3xB+PHgLwP4V8Qw2nh9b/S4vEOqafp3mJHMbhma1STcxLAQCOTGcZm6ZUUAffXj7/gtP8AALwLq8lnH4j1HXZIWKvJpemySw59nbarD3UkVv8AwE/4Kt/Br9o3x9p3hfQNa1OLXtWcx2lpeaZLEZmCliA4BQcKTyw6V8u/se/8EtfhN8Nv2UrL4r/G5pdQS/06LWJYWmmSz0u1lCmLKw/PI5V0J7AtjHBJ634N2X7Eln+0F4O1TwBro0zxhBqkUelQWR1ApdTyHykiZZUZcMXx1HXqKAP0For4l/4KVf8ABW6P9kDxX/whXhDS7PXPGIhWe9mvGb7LpiuMopVSGeQqQ2MgAEdc4r5ouf8Agr5+0z8FrjSda8c+DbJfD+s4ktUv9CmsI7tOuIpcg5wcjO7gg4NAH640V5n+yX+1HoP7XfwP0vxroavaxXhaC6tJmBksrhMB4mPfGQQe6sp4ziigD8/v+C+H7Xn9sa9pXwf0a5zb6aU1TXzG335iP3EB/wB1SZCOmXTutct8Bf8Agg54n+LPwf8AD3ii/wDHdr4audfskvv7OfSnme2R/mQM3mr8xQqSMcZx2r738Yf8Evvgf8QPG9/4j1rwUupazqd017dXM+o3bGaVm3EkebjGe2MY4xivfYolgiVEUKiAKqqMBQOgFAH4BfGD4W+If+Cav7alnZm+XUtQ8HXtnq1nexxNDHfxEJKMKSSAfmjYZPIYZr9H/wDgsT4C0/8Aaa/4J8af4/0QLdf2A1r4hs5VGWezuFVJFH4SRuf+uVfQfx+/YU+Fn7UHi2113xx4Wh1vVbO0WxhnN1PCVhDu4XEbqDhnc8+tdXoPwC8KeGvgm3w7tNL2+D2sJtLOnyTySD7NKGDx72YvjDsBzx2xgUAfiR+y7pmtft1/tG/Br4f6xuu9H8K266fIpYsDp8M813Lu9Mo3lD2VK47xx4g1/wDZV8bfGD4a2kzR2WrTyeHtQQMQHS2vkljkHqSIivP8Mz+tft38Bf2DPhR+zL4xm1/wT4Tg0bV57VrN7gXU8zeUzKzKBI7AZKLyOeKyfiX/AME1vgr8XviLf+K/EPgm1v8AXdUmWe6uPtdxGJnAC7iiyBeijPHPOetAHz/8AdC1T/gmp/wSD1XxpYadFL4z1K1i12dJ0yIpbuWGCDeOpEUTxsV/vB+mTXyL+y54X8U/8FO/HOqw/Ev49XOiRRTwxx6Zd3m6bVGl3nZbW29IgBt52qcbh8tfs/4l8Kab4y8M3mjarY21/pWoQNa3NpPGHimiYYKMp4wRXhPwq/4Ja/Bb4K/FC38X+HfDE9nq9n5v2fdqM8sUHmRtG21GYjO12x6ZyORQB+Xv/BF7STqP/BRnwbLFny7CDUpznrtNjPGP1kFdL/wWR+Ft3+zn+33H4x0cNZx+JktvEVnLGoVYbyJgkuPVt8ayH3mr9KvAH7E3wR/Y11O7+IOjeHLbwzLotlM1zqTXlzMttblcyswZ2G0KMk44AJr4p/4Lq/tGfC741+AfAtl4W8R6V4m8TadfzXHnaZcLcQ2tnJFiRXdcgMzrCQuc/I2ccZAPFHjn/wCCp3/BU0lPNfw9qmpruKs22DSbRACRn7hkSMnHTzJveu4/4Lx/s5ah4F/aC0nxzZ2Ljw14h0yCx82KP91aXNupj8o44UGIRlfXD4+6a9z/AOCAf7Mv/CJfCzX/AIo6jb7bzxTKdL0pmXlbKFsyupz0kmG3kcfZvevvrxp4H0b4j+GrnR9f0uw1nSrxds9peQLNDKPdWBH+FAH56/Bf/gp78CPjL+xVp3w1+LF1qugyWujW2jalbx21w6Xy26oqyRSwqxG7y1JBwQSRyOT8U/sjWWhaj/wUs8EJ4YE3/CNL45hk0oS7vM+ypdbod275s7FXOefWv1R8S/8ABGn9nzxJqDXH/CGz2Bc5KWeqXMUf4LvIH4V0vwd/4Jg/BL4FeMNP8QeH/Byx61pcontLu4vrid4JB0YBnK5/CgD8uv8Agp94Wvvg7/wUv1zWvENhLeaVf6pZ63bq4+S/tAItyKTwcbHjPptr23/grt/wUb+GP7T37OmgeFvA99NrWoT6nFqdw8llJANNRIpF2EuozITJjC5GA3PTP6O/Hb9mjwL+0v4ej0zxx4b0/X7aAloGmUrNbE9THIpDpnjODzjmvIPA3/BIL4A+AvEMepQeCRfzQuJI49Qvp7qFSOR+7ZtrfRgaAPMf+CKnwJ1zw1+xeL3UvPsF8R63capZRyAqWtzFBEr49GMLEeoIPeivuO0tIrC1jggjSGGFQkcaKFVFAwAAOAAKKAJKKKKACiiigAooooAKKKKAOe+LXgGy+K3wr8S+F9Se4j0/xHpV1pl09uwWVIpomjcoSCAwDHBIIzjg1+d/wY/4I2fCjxB8XZtP1DUPGl7YWJMnkPfwIJwD91ykCtg/7JU+9FFAH6P+D/CGmfD/AMK6fomi2UGm6TpVulraWsC7Y4I0GFUD6CtKiigAooooAKKKKACiiigD/9k=\"","import './Modal.css';\r\n\r\nconst Modal = props => {\r\n\r\n    const content = (\r\n        <div className=\"modal\">\r\n            <div className=\"modal-background\" onClick={props.modalClick}></div>\r\n            <div className=\"modal-content\">{props.content}</div>\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nconst OrdersPageContext = React.createContext([null, null]);\r\n\r\nexport default OrdersPageContext;","import './OrderDetails.css';\r\nimport React, {useContext} from 'react';\r\nimport OrdersPageContext from '../OrdersPageContext';\r\n\r\nconst OrderDetails = props => {\r\n\r\n    const customersList = useContext(OrdersPageContext).customersList;\r\n\r\n    const phoneSetAutoFill = (newOrder, newValidation, newValidFields) => {\r\n        customersList.forEach(customer => {\r\n            if (customer.phone_number === newOrder.customer.phone_number) {\r\n                newOrder.customer.first_name = customer.first_name;\r\n                newOrder.customer.last_name = customer.last_name;\r\n                \r\n                if (customer.email)\r\n                    newOrder.customer.email = customer.email;\r\n                else\r\n                    newOrder.customer.email = null;\r\n                \r\n                newOrder.city = customer.city;\r\n                newOrder.street = customer.street;\r\n                newOrder.number = customer.number;\r\n                \r\n                if(customer.apartment)\r\n                    newOrder.apartment = customer.apartment;\r\n                else\r\n                    newOrder.apartment = null;\r\n\r\n                // customer exists, so all fields are valid\r\n                newValidation.first_name = true;\r\n                newValidation.last_name = true;\r\n                newValidation.email = true;\r\n                newValidation.city = true;\r\n                newValidation.street = true;\r\n                newValidation.number = true;\r\n                newValidation.apartment = true;\r\n\r\n                newValidFields.phone_number = true;\r\n                newValidFields.first_name = true;\r\n                newValidFields.last_name = true;\r\n                newValidFields.email = true;\r\n                newValidFields.city = true;\r\n                newValidFields.street = true;\r\n                newValidFields.number = true;\r\n                newValidFields.apartment = true;\r\n\r\n                props.setInvalid(false);\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    const onChangeHandler = (event, fieldName) => {\r\n\r\n        const newOrder = {...props.order};\r\n        newOrder.customer = {...props.order.customer};\r\n        const newValidation = {...props.validation};\r\n        const newValidFields = {...props.validFields}\r\n\r\n        if (fieldName === \"phone_number\"){\r\n            newOrder.customer.phone_number = event.target.value;\r\n            newValidation.phone_number = true;\r\n            const regex = /^[0-9]+$/;\r\n            if (!regex.test(event.target.value))\r\n                newValidation.phone_number = false;\r\n            else if (event.target.value.length !== 10)\r\n                newValidation.phone_number = false;\r\n            else if (event.target.value.substring(0, 2) !== \"05\")\r\n                newValidation.phone_number = false;\r\n            phoneSetAutoFill(newOrder, newValidation, newValidFields);\r\n        }\r\n\r\n        if (fieldName === \"email\"){\r\n            newOrder.customer.email = event.target.value;\r\n            newValidation.email = true;\r\n            if ((!event.target.value.includes(\"@\") || !event.target.value.includes(\".\")) && !(event.target.value === null || event.target.value === \"\"))\r\n                newValidation.email = false;\r\n        }\r\n\r\n        if ([\"first_name\", \"last_name\"].includes(fieldName)){\r\n            newOrder.customer[fieldName] = event.target.value;\r\n            newValidation[fieldName] = true;\r\n            if (event.target.value === null || event.target.value === \"\")\r\n                newValidation[fieldName] = false;\r\n        }\r\n\r\n        if ([\"city\", \"street\"].includes(fieldName)){\r\n            newOrder[fieldName] = event.target.value;\r\n            newValidation[fieldName] = true;\r\n            if (event.target.value === null || event.target.value === \"\")\r\n                newValidation[fieldName] = false;\r\n        }\r\n\r\n        if (fieldName === \"number\"){\r\n            newOrder.number = event.target.value;\r\n            newValidation.number = false;\r\n            if (event.target.value > 0 )\r\n                newValidation.number = true;\r\n        }\r\n\r\n        if (fieldName === \"apartment\"){\r\n            newOrder.apartment = event.target.value;\r\n            newValidation.apartment = true;\r\n\r\n            if (event.target.value <= 0 && !(event.target.value === null || event.target.value === \"\"))\r\n                newValidation.apartment = false;\r\n        }\r\n\r\n        if (fieldName === \"remark\")\r\n            newOrder.remark = event.target.value;\r\n\r\n        props.setOrder(newOrder);\r\n        props.setValidation(newValidation);\r\n        props.setValidFields(newValidFields);\r\n    }\r\n\r\n    return (\r\n        <div className=\"order-details\">\r\n            <form>\r\n                <h2>פרטי לקוח</h2>\r\n                <div className=\"customer-details\">\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.phone_number ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>טלפון *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"טלפון\"\r\n                                value={props.order.customer.phone_number}\r\n                                onChange={event => onChangeHandler(event, \"phone_number\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"order-input\">\r\n                            <label>אימייל</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"email\"\r\n                                placeholder=\"אימייל\"\r\n                                value={props.order.customer.email}\r\n                                onChange={event => onChangeHandler(event, \"email\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.first_name ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>שם פרטי *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"שם פרטי\"\r\n                                value={props.order.customer.first_name}\r\n                                onChange={event => onChangeHandler(event, \"first_name\")}\r\n                            />\r\n                        </div>\r\n                        <div className={props.validFields.last_name ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>שם משפחה *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"שם משפחה\"\r\n                                value={props.order.customer.last_name}\r\n                                onChange={event => onChangeHandler(event, \"last_name\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <h2>כתובת</h2>\r\n                <div className=\"address-details\">\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.city ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>עיר *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"עיר\"\r\n                                value={props.order.city}\r\n                                onChange={event => onChangeHandler(event, \"city\")}\r\n                            />\r\n                        </div>\r\n                        <div className={props.validFields.street ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>רחוב *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"רחוב\"\r\n                                value={props.order.street}\r\n                                onChange={event => onChangeHandler(event, \"street\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"input-couple\">\r\n                        <div className={props.validFields.number ? \"order-input\" : \"order-input invalid\"}>\r\n                            <label>מספר בית *</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"number\"\r\n                                placeholder=\"מספר בית\"\r\n                                min=\"1\"\r\n                                step=\"1\"\r\n                                value={props.order.number}\r\n                                onChange={event => onChangeHandler(event, \"number\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"order-input\">\r\n                            <label>מספר דירה</label>\r\n                            <br/>\r\n                            <input\r\n                                type=\"number\"\r\n                                placeholder=\"מספר דירה\"\r\n                                min=\"1\"\r\n                                step=\"1\"\r\n                                value={props.order.apartment}\r\n                                onChange={event => onChangeHandler(event, \"apartment\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <h2>הערה</h2>\r\n                <div className=\"remark\">\r\n                    <input\r\n                        className=\"remark-input\"\r\n                        type=\"text\"\r\n                        placeholder=\"הערה\"\r\n                        value={props.order.remark}\r\n                        onChange={event => onChangeHandler(event, \"remark\")}\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderDetails","import './Counter.css';\r\n\r\nconst Counter = props => {\r\n\r\n    return (\r\n        <div className=\"counter\">\r\n            <div className=\"counter-button\" onClick={() => props.countHandler(1)}><i className=\"fas fa-plus\"></i></div>\r\n            <div>{props.count}</div>\r\n            <div className=\"counter-button\" onClick={() => props.countHandler(-1)}><i className=\"fas fa-minus\"></i></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Counter;","import './DishBlock.css';\r\nimport React, {useState} from 'react';\r\nimport Counter from '../../../../../components/Counter/Counter';\r\n\r\nconst DishBlock = props => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const initialForm = {\r\n        dish: props.dish,\r\n        remark: \"\",\r\n        quantity: 1,\r\n        extras: []\r\n    };\r\n\r\n    props.dish.extraCategories.forEach(category => {\r\n        if (category.type === \"radio\")\r\n            initialForm.extras.push(category.extras[0]);\r\n    });\r\n\r\n    const [formValues, setFormValues] = useState(initialForm);\r\n\r\n    const onClickHandler = () => {\r\n        if(open)\r\n            setOpen(false);\r\n        else\r\n            setOpen(true);\r\n    }\r\n\r\n    const formSubmitHandler = (event) => {\r\n        event.preventDefault();\r\n        props.setOrder(prevState => {\r\n            const newState = {...prevState};\r\n            newState.dishes_in_order.push(formValues);\r\n            return(newState);\r\n        });\r\n        setOpen(false);\r\n    }\r\n\r\n    const counterChangeHandler = (value) => {\r\n        if (formValues.quantity + value > 0) {\r\n            const newForm = {...formValues};\r\n            newForm.quantity = formValues.quantity + value;\r\n            setFormValues(newForm);\r\n        }\r\n    }\r\n\r\n    const onChangeHandler = (event, extra, category) => {\r\n        const newFormState = {...formValues};\r\n        if (category.type === \"checkbox\"){\r\n            if(event.target.checked)\r\n                newFormState.extras.push(extra);\r\n            else\r\n                newFormState.extras = newFormState.extras.filter(value => value !== extra);\r\n        }\r\n        else if (category.type === \"radio\") {\r\n            newFormState.extras = newFormState.extras.filter(extra => !category.extras.includes(extra));\r\n            newFormState.extras.push(extra);\r\n        }\r\n            \r\n        setFormValues(newFormState);\r\n    }\r\n\r\n    const onRemarkChangeHandler = (value) => {\r\n        const newFormState = {...formValues};\r\n        newFormState.remark = value;\r\n        setFormValues(newFormState);\r\n    }\r\n\r\n    const extraCategories = props.dish.extraCategories.map(category => {\r\n\r\n        let extras;\r\n        \r\n        if (category.type === \"checkbox\"){\r\n            extras = category.extras.map(extra => \r\n                <div key={extra.name} className=\"extra-input\">\r\n                    <label htmlFor={extra.name}>{extra.name} {extra.price > 0 ? \" (\" + extra.price + \"₪)\" : null}</label>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        id={extra.name}\r\n                        checked={formValues.extras.includes(extra)}\r\n                        onChange={event => onChangeHandler(event, extra, category)}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n        else if (category.type === \"radio\") {\r\n            extras = category.extras.map(extra => \r\n                <div key={extra.name} className=\"extra-input\">\r\n                    <label htmlFor={extra.name}>{extra.name} {extra.price > 0 ? \" (\" + extra.price + \"₪)\" : null}</label>\r\n                    <input\r\n                        type=\"radio\"\r\n                        id={extra.name}\r\n                        checked={formValues.extras.includes(extra)}\r\n                        onChange={event => onChangeHandler(event, extra, category)}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div key={category.name} >\r\n                <h4>{category.name}</h4>\r\n                <div className=\"category-inputs\">{extras}</div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    let content = null;\r\n\r\n    if (!open) {\r\n        content = (\r\n            <div className=\"dish-name\" onClick={onClickHandler}>\r\n                <span>{props.dish.name}</span>\r\n                <span>{props.dish.price}₪</span>\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        content = (\r\n            <React.Fragment>\r\n                <div className=\"dish-name\" onClick={onClickHandler}>\r\n                    <span>{props.dish.name}</span>\r\n                    <span>{props.dish.price}₪</span>\r\n                </div>\r\n                <div className=\"dish-extras\">\r\n                    <div className=\"description-and-counter\">\r\n                        {props.dish.description}\r\n                        <Counter count={formValues.quantity} countHandler={counterChangeHandler}/>\r\n                    </div>\r\n                    <form onSubmit={formSubmitHandler}>\r\n                        {extraCategories}\r\n                        <h4>הערה למנה</h4>\r\n                        <div className=\"dish-description\">\r\n                            <input type=\"text\" onChange={event => onRemarkChangeHandler(event.target.value)}/>\r\n                        </div>\r\n                        <br/>\r\n                        <div className=\"add-dish-button\">\r\n                            <button type=\"submit\">הוסף להזמנה</button>\r\n                        </div>\r\n                    </form>\r\n                    <hr/>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default DishBlock;","import './Menu.css';\r\nimport React, {useContext} from 'react';\r\nimport OrdersPageContext from '../OrdersPageContext';\r\nimport DishBlock from './DishBlock/DishBlock';\r\n\r\nconst Menu = props => {\r\n\r\n    const foodCategories = useContext(OrdersPageContext).foodCategories;\r\n\r\n    const categories = foodCategories.map(category => {\r\n        const dishes = category.dishes.map(dish => {\r\n            if (dish.visible){\r\n                return (\r\n                    <div key={dish.name}>\r\n                        <DishBlock dish={dish} setOrder={props.setOrder}/>\r\n                    </div>\r\n                );\r\n            }\r\n            else    \r\n                return null;\r\n        });\r\n\r\n        return (\r\n            <div key={category.name}>\r\n                <h3>{category.name}</h3>\r\n                {dishes}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            <h2>תפריט</h2>\r\n            {categories}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;","import './DishInCart.css';\r\n\r\nconst DishInCart = props => {\r\n\r\n    let price = parseFloat(props.dishInCart.dish.price); \r\n    let extrasList = \"\";\r\n\r\n    for(let i = 0; i < props.dishInCart.extras.length; i++) {\r\n        price += parseFloat(props.dishInCart.extras[i].price);\r\n        \r\n        if (i < props.dishInCart.extras.length - 1)\r\n            extrasList += props.dishInCart.extras[i].name + \", \";\r\n        else\r\n            extrasList += props.dishInCart.extras[i].name;\r\n    }\r\n\r\n    const cartDishRemoveHandler = () => {\r\n        const newOrder = {...props.order};\r\n        newOrder.dishes_in_order = newOrder.dishes_in_order.filter(dish => dish !== props.dishInCart);\r\n        props.setOrder(newOrder);\r\n    }\r\n\r\n    const content = (\r\n        <div className=\"dish-in-cart\">\r\n            <div className=\"name-and-price\">\r\n                <h4>{props.dishInCart.quantity + \" × \" + props.dishInCart.dish.name}</h4>\r\n                <p>₪{price * parseFloat(props.dishInCart.quantity)}</p>\r\n            </div>\r\n            {extrasList}\r\n            <div className=\"delete\">\r\n                <i className=\"fas fa-trash-alt\" onClick={cartDishRemoveHandler}></i>\r\n            </div>\r\n            <hr/>\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default DishInCart;","import './Cart.css';\r\nimport DishInCart from './DishInCart/DishInCart';\r\n\r\nconst Cart = props => {\r\n\r\n    let totalPrice = 0;\r\n\r\n    const addToPrice = dishInOrder => {\r\n        let addedPrice = parseFloat(dishInOrder.dish.price);\r\n        dishInOrder.extras.forEach(extra => {\r\n            addedPrice += parseFloat(extra.price);\r\n        });\r\n        totalPrice += addedPrice * dishInOrder.quantity;\r\n    };\r\n\r\n    const dishesInOrder = props.order.dishes_in_order.map(dishInOrder => {\r\n        addToPrice(dishInOrder);\r\n        return <DishInCart key={Math.random()} dishInCart={dishInOrder} order={props.order} setOrder={props.setOrder}/>\r\n    });\r\n\r\n    return (\r\n        <aside className=\"cart-window\">\r\n            <h3>עגלת הזמנה</h3>\r\n            <div className=\"dishes-in-order\">\r\n               {dishesInOrder} \r\n            </div>\r\n            {totalPrice > 0 ?\r\n            <div className=\"total-price\">\r\n                <h4>{`סה\"כ ₪` + totalPrice}</h4>\r\n            </div>\r\n            : <p>העגלה ריקה</p>\r\n            }\r\n        </aside>\r\n    );\r\n}\r\n\r\nexport default Cart;","import './TimingOrder.css';\r\nimport React, {useState} from 'react';\r\n\r\nconst TimingOrder = props => {\r\n\r\n    const [timing, setTiming] = useState(15);\r\n    const [choiceNumberValue, setChoiceNumberValue] = useState(15);\r\n\r\n    // default is 15 minutes\r\n    const choiceHandler = (value) => {\r\n        if(value === 10) {\r\n            setTiming(10);\r\n            setChoiceNumberValue(10);\r\n        }\r\n        else if(value === 15 || value <= 0) {\r\n            setTiming(15);\r\n            setChoiceNumberValue(15);\r\n        }\r\n        else if(value === 20) {\r\n            setChoiceNumberValue(20);\r\n            setTiming(20);\r\n        }\r\n        else {\r\n            setTiming(value);\r\n            setChoiceNumberValue(value);\r\n        }\r\n    }\r\n\r\n\r\n    let content = (\r\n        <div className=\"timing-orders\">\r\n            <div className=\"timing-choices\">\r\n                {timing === 10 ?\r\n                    <div className=\"choice selected\">\r\n                        <span>דקות</span> <span>10</span>\r\n                    </div>\r\n                :\r\n                    <div className=\"choice\" onClick={() => choiceHandler(10)}>\r\n                            <span>דקות</span> <span>10</span>\r\n                    </div> \r\n                }\r\n                {timing === 15 ?\r\n                    <div className=\"choice selected\">\r\n                        <span>דקות</span> <span>15</span>\r\n                    </div>\r\n                :\r\n                    <div className=\"choice\" onClick={() => choiceHandler(15)}>\r\n                            <span>דקות</span> <span>15</span>\r\n                    </div> \r\n                }\r\n                {timing === 20 ?\r\n                    <div className=\"choice selected\">\r\n                        <span>דקות</span> <span>20</span>\r\n                    </div>\r\n                :\r\n                    <div className=\"choice\" onClick={() => choiceHandler(20)}>\r\n                            <span>דקות</span> <span>20</span>\r\n                    </div> \r\n                }\r\n                <div className=\"number-choice\">\r\n                    <input type=\"number\" value={choiceNumberValue} onChange={event => choiceHandler(event.target.value)} />\r\n                    :אחר \r\n                </div>\r\n            </div>\r\n            <div className=\"time-order\" onClick={() => props.timingButtonHandler(timing)}>\r\n                {props.invalid ?\r\n                <h1>תזמן הזמנה (נתונים חסרים / עגלה ריקה)</h1>\r\n                : <h1>תזמן הזמנה</h1>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default TimingOrder;","import React, {useState} from 'react';\r\nimport './AddOrder.css';\r\nimport axios from 'axios';\r\nimport {getCookie} from '../../../assets/functions';\r\nimport OrderDetails from './OrderDetails/OrderDetails';\r\nimport Menu from './Menu/Menu';\r\nimport Cart from './Cart/Cart';\r\nimport TimingOrder from '../../../components/TimingOrder/TimingOrder';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\n \r\n\r\nconst AddOrder = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const [order, setOrder] = useState({\r\n        restaurant: props.restaurantId,\r\n        city: \"\",\r\n        street: \"\",\r\n        number: \"\",\r\n        apartment: \"\",\r\n        customer: {\r\n            phone_number: \"\",\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            email: \"\"\r\n        },\r\n        remark: \"\",\r\n        dishes_in_order: []\r\n    });\r\n\r\n    // valid only when all are true. updating in realtime on each onChange()\r\n    const [validation, setValidation] = useState(\r\n        {\r\n            phone_number: false,\r\n            email: true,    // not a required field, so true as default\r\n            first_name: false,\r\n            last_name: false,\r\n            city: false,\r\n            street: false,\r\n            number: false,\r\n            apartment: true, // not a required field, so true as default\r\n            nonEmptyCart: false\r\n        }\r\n    );\r\n    \r\n    // updating on submit (to color the unvalid fields in red)\r\n    const [submitValidation, setSubmitValidation] = useState(\r\n        {\r\n            phone_number: true,\r\n            email: true,\r\n            first_name: true,\r\n            last_name: true,\r\n            city: true,\r\n            street: true,\r\n            number: true,\r\n            apartment: true,\r\n            nonEmptyCart: true\r\n        }\r\n    );\r\n\r\n    const [invalid, setInvalid] = useState(false);\r\n    \r\n    const allValid = () => {\r\n        for (let key in validation) {\r\n            if (!validation[key])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const createNewOrderWithIds = () => {        \r\n        const newOrder = {\r\n            ...order,\r\n            dishes_in_order: [...order.dishes_in_order]\r\n        };\r\n\r\n        for(let i = 0; i < order.dishes_in_order.length; i++){\r\n            newOrder.dishes_in_order[i] = {\r\n                ...order.dishes_in_order[i],\r\n                dish: order.dishes_in_order[i].dish.id,\r\n                extras: [...order.dishes_in_order[i].extras],\r\n            }\r\n            for(let j=0; j < order.dishes_in_order[i].extras.length; j++) {\r\n                newOrder.dishes_in_order[i].extras[j] = order.dishes_in_order[i].extras[j].id;\r\n            }\r\n        }\r\n        \r\n        return(newOrder);\r\n    }\r\n\r\n    const submitHandler = (timing) => {\r\n        if (allValid()){\r\n            setStatus('loading');\r\n\r\n            const newOrder = createNewOrderWithIds();\r\n            newOrder.status = \"process\";\r\n            newOrder.process_date_time = new Date(Date.now() + timing * 60 * 1000);\r\n\r\n            const originURL = window.location.origin;\r\n\r\n            const csrftoken = getCookie('csrftoken');\r\n            axios.post(originURL + '/order_add',\r\n                newOrder,\r\n                {\r\n                    headers: {'X-CSRFTOKEN': csrftoken,},\r\n                },\r\n            )\r\n            .then(res => {\r\n                console.log(\"SUCCESS adding order\")\r\n                props.successClose();\r\n                window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ERROR posting order\");\r\n                console.log(err.message);\r\n                setStatus(\"error\");\r\n            })\r\n        }\r\n        else {\r\n            setSubmitValidation(validation);\r\n            setInvalid(true);\r\n        }\r\n    }\r\n\r\n    if (order.dishes_in_order.length === 0 && validation.nonEmptyCart){\r\n        const newValidation = validation;\r\n        newValidation.nonEmptyCart = false;\r\n        setValidation(newValidation);\r\n        setInvalid(true);\r\n    }\r\n    else if (order.dishes_in_order.length > 0 && !validation.nonEmptyCart){\r\n        const newValidation = validation;\r\n        newValidation.nonEmptyCart = true;\r\n        setValidation(newValidation);\r\n        setInvalid(false);\r\n    }\r\n\r\n    let content;\r\n\r\n    if (status === 'loading'){\r\n        content = (\r\n            <div className = \"spinner-or-error\">\r\n                <Spinner/>\r\n            </div>\r\n        );\r\n    }\r\n    else if (status === 'error'){\r\n        content = (\r\n            <div className = \"spinner-or-error\">\r\n                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                <br/>\r\n                שגיאת תקשורת ביצירת ההזמנה\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        content = (\r\n            <div className=\"add-order-window\">\r\n                <div class=\"cart-and-details\">\r\n                    <div className=\"customer-and-menu\">\r\n                        <OrderDetails\r\n                            order={order}\r\n                            setOrder={setOrder}\r\n                            validation={validation}\r\n                            setValidation={setValidation}\r\n                            validFields={submitValidation}\r\n                            setValidFields={setSubmitValidation}\r\n                            setInvalid={setInvalid}\r\n                            />\r\n                        <Menu setOrder={setOrder}/>\r\n                    </div>\r\n                    <Cart order={order} setOrder={setOrder}/>\r\n                </div>\r\n                <TimingOrder timingButtonHandler={submitHandler} invalid={invalid}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default AddOrder;","import './ViewOrder.css';\r\nimport React, {useState} from 'react';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport axios from 'axios';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst getDateFromString = dateTime => {\r\n    if (dateTime === null)\r\n        return null;\r\n\r\n    return (dateTime.substring(8, 10) + \"/\" + dateTime.substring(5, 7) + \"/\" + dateTime.substring(0, 4));\r\n}\r\n\r\nconst getTimeFromString = dateTime => {\r\n    if (dateTime === null)\r\n        return null;\r\n\r\n    if (typeof dateTime === \"string\")\r\n        return(dateTime.substring(11, 16));\r\n\r\n    let hours = dateTime.getHours().toString();\r\n    if (hours.length === 1)\r\n        hours = \"0\" + hours;\r\n\r\n    let minutes = dateTime.getMinutes().toString();\r\n    if (minutes.length === 1)\r\n        minutes = \"0\" + minutes;\r\n    \r\n    return hours + \":\" + minutes;\r\n}\r\n\r\nconst ViewOrder = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const backButtonHandler = (type) => {\r\n        const newOrder = {...props.order};\r\n        newOrder.customer = newOrder.customer.id;\r\n\r\n        if (type === \"cancel\"){\r\n            newOrder.status = 'canceled';\r\n            newOrder.canceled_date_time = new Date(Date.now());\r\n        }\r\n        else if (type === \"back\"){\r\n            switch (newOrder.status){\r\n                case \"ready\":\r\n                    newOrder.status = 'process';\r\n                    newOrder.ready_date_time = null;\r\n                    newOrder.process_date_time = new Date(Date.now());\r\n                    break;\r\n                case \"sent\":\r\n                    newOrder.status = 'ready';\r\n                    newOrder.sent_date_time = null;\r\n                    newOrder.ready_date_time = new Date(Date.now());\r\n                    break;\r\n                case \"delivered\":\r\n                    newOrder.status = 'sent';\r\n                    newOrder.delivered_date_time = null;\r\n                    newOrder.sent_date_time = new Date(Date.now());\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        setStatus('loading');\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + '/order/' + newOrder.id + '/',\r\n            newOrder,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log('SUCCESS updating the order');\r\n            newOrder.customer = props.order.customer;\r\n            props.orderUpdateHandler(newOrder);\r\n            props.modalClose(false);\r\n        })\r\n        .catch(err => {\r\n            setStatus('error');\r\n            console.log('ERROR updating the order');\r\n            console.log(err.message);\r\n        })\r\n    }\r\n\r\n    let buttons = null;\r\n    \r\n    if(status === 'loading'){\r\n        buttons = <span className='spinner'><Spinner/></span>;\r\n    }\r\n    else if (status === 'error'){\r\n        buttons = (\r\n            <div class=\"buttons\">\r\n                שגיאת תקשורת\r\n            </div>\r\n        );\r\n    }\r\n    else if (['ready', 'sent'].includes(props.order.status)){\r\n        buttons = (\r\n            <div class=\"buttons\">\r\n                <button className=\"back-button\" onClick={() => backButtonHandler(\"back\")}>החזר למצב הקודם</button>\r\n                <button className=\"delete-button\" onClick={() => backButtonHandler(\"cancel\")}>בטל הזמנה</button>\r\n            </div>\r\n        );\r\n    }\r\n    else if (props.order.status !== \"deleted\"){\r\n        buttons = (\r\n            <div class=\"buttons\">\r\n                <button className=\"delete-button\" onClick={() => backButtonHandler(\"cancel\")}>בטל הזמנה</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    let street, number, apartment;\r\n    street = number = apartment = '';\r\n\r\n    if(props.order.street)\r\n        street = \" \" + props.order.street;\r\n    if(props.order.number)\r\n        number = \" \" + String(props.order.number);\r\n    if(props.order.apartment)\r\n        apartment = \" דירה \" + String(props.order.apartment);\r\n\r\n    const creationTime = getTimeFromString(props.order.creation_date_time);\r\n    const creationDate = getDateFromString(props.order.creation_date_time);\r\n    const processTime = getTimeFromString(props.order.process_date_time);\r\n    const readyTime = getTimeFromString(props.order.ready_date_time);\r\n    const sentTime = getTimeFromString(props.order.sent_date_time);\r\n    const deliveredTime = getTimeFromString(props.order.delivered_date_time);\r\n    const canceledTime = getTimeFromString(props.order.canceled_date_time);\r\n\r\n    let datesSection = null;\r\n    if(canceledTime)\r\n        datesSection = (\r\n            <React.Fragment>\r\n                <div>{creationTime + \" :נוצר ב\"}</div>\r\n                <div>{canceledTime + \" :בוטל ב\"}</div>\r\n            </React.Fragment>\r\n        );\r\n    else{\r\n        datesSection = (\r\n            <React.Fragment>\r\n                <div>{creationTime + \" :נוצר ב\"}</div>\r\n                {/* <div>{processTime ? processTime + \" :בטיפול מ\" : null}</div> */}\r\n                <div>{readyTime ? readyTime + \" :מוכן מ\" : null}</div>\r\n                <div>{sentTime ? sentTime + \" :יצא ב\" : null}</div>\r\n                <div>{deliveredTime ? deliveredTime + \" :הגיע ב\" : null}</div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    const content = (\r\n        <div className=\"view-order-window\">\r\n            <div className=\"order-number\"><b>#{props.order.id}</b></div>\r\n            <div className=\"inside-window\">\r\n                <div className=\"date-name-address\">\r\n                    <div className=\"creation-date\">\r\n                        {creationDate}\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                        <div className=\"address\">{props.order.city + street + number + apartment}</div>\r\n                    </div>\r\n                </div>\r\n                <hr/>\r\n                <div className=\"dates-section\">\r\n                    {datesSection}\r\n                </div>\r\n                <hr/>\r\n                <div className=\"food-section\">\r\n                    <i className=\"fas fa-hamburger\"></i>\r\n                    <div>\r\n                        {props.order.dishesinorder.map(dishInOrder => {\r\n                            let extras = [];\r\n                            for (let i = 0; i < dishInOrder.extras.length; i++) {\r\n                                if (i < dishInOrder.extras.length - 1)\r\n                                    extras.push(dishInOrder.extras[i].name + \", \");\r\n                                else\r\n                                    extras.push(dishInOrder.extras[i].name);\r\n                            }\r\n                            let remark = null;\r\n                            if (dishInOrder.remark)\r\n                                remark = <p className=\"food\">{dishInOrder.remark}{\" \"}<i className=\"fas fa-exclamation-triangle\"></i></p>\r\n                            return (\r\n                                <div key={Math.random()}>\r\n                                    {dishInOrder.dish.name + \" × \" + dishInOrder.quantity}\r\n                                    <p className=\"food\">{extras}</p>\r\n                                    {remark}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                {props.order.remark ?\r\n                <React.Fragment>\r\n                    <hr/>\r\n                    <div className=\"remark-section\">\r\n                        <i className=\"fas fa-exclamation-triangle\"></i>\r\n                        <div>\r\n                            <p className=\"remark\">{props.order.remark}</p>\r\n                        </div>\r\n                    </div>\r\n                </React.Fragment>\r\n                : null   \r\n                }\r\n            </div>\r\n            {buttons}\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport default ViewOrder;","import './NewOrder.css';\r\nimport React, {useState} from 'react';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport TimingOrder from '../../../components/TimingOrder/TimingOrder';\r\nimport {getCookie} from '../../../assets/functions';\r\nimport axios from 'axios';\r\n\r\nconst NewOrder = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n    \r\n    const timingButtonHandler = (timing) => {\r\n        const newOrder = {...props.order};\r\n\r\n        newOrder.process_date_time = new Date(Date.now() + timing * 60 * 1000);\r\n        newOrder.status = 'process';\r\n        newOrder.customer = newOrder.customer.id;\r\n\r\n        setStatus('loading');\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + '/order/' + newOrder.id + '/',\r\n            newOrder,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log('SUCCESS updating order');\r\n            newOrder.customer = props.order.customer;\r\n            setStatus(null);\r\n            props.orderUpdateHandler(newOrder);\r\n            props.modalClose(false);\r\n        })\r\n        .catch(err => {\r\n            setStatus('error');\r\n            console.log('ERROR updating order');\r\n            console.log(err.message);\r\n        })\r\n\r\n    }\r\n\r\n    let content = null;\r\n    let timingOrder = null;\r\n\r\n    if(status === 'error'){\r\n        content = (\r\n            <div className=\"new-order-window error\">\r\n                שגיאת תקשורת\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        if (status === 'loading'){\r\n            timingOrder = <span className='spinner'><Spinner/></span>;\r\n        }\r\n        else {\r\n            timingOrder = (\r\n                <TimingOrder timingButtonHandler={timingButtonHandler}/>\r\n            );\r\n        }\r\n\r\n        let street, number, apartment;\r\n        street = number = apartment = '';\r\n    \r\n        if(props.order.street)\r\n            street = \" \" + props.order.street;\r\n        if(props.order.number)\r\n            number = \" \" + String(props.order.number);\r\n        if(props.order.apartment)\r\n            apartment = \" דירה \" + String(props.order.apartment);\r\n\r\n        content = (\r\n            <div className=\"new-order-window\">\r\n                <div className=\"order-number\"><b>#{props.order.id}</b></div>\r\n                <div className=\"inside-window\">\r\n                    <div className=\"name\">{props.order.customer.first_name + \" \" + props.order.customer.last_name}</div>\r\n                    <div className=\"address\">{props.order.city + street + number + apartment}</div>\r\n                    <hr/>\r\n                    <div className=\"food-section\">\r\n                        <i className=\"fas fa-hamburger\"></i>\r\n                        <div>\r\n                            {props.order.dishesinorder.map(dishInOrder => {\r\n                                let extras = [];\r\n                                for (let i = 0; i < dishInOrder.extras.length; i++) {\r\n                                    if (i < dishInOrder.extras.length - 1)\r\n                                        extras.push(dishInOrder.extras[i].name + \", \");\r\n                                    else\r\n                                        extras.push(dishInOrder.extras[i].name);\r\n                                }\r\n                                let remark = null;\r\n                                if (dishInOrder.remark)\r\n                                    remark = <p className=\"food\">{dishInOrder.remark}{\" \"}<i className=\"fas fa-exclamation-triangle\"></i></p>\r\n                                return (\r\n                                    <div key={Math.random()}>\r\n                                        {dishInOrder.dish.name + \" × \" + dishInOrder.quantity}\r\n                                        <p className=\"food\">{extras}</p>\r\n                                        {remark}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    {props.order.remark ?\r\n                    <React.Fragment>\r\n                        <hr/>\r\n                        <div className=\"remark-section\">\r\n                            <i className=\"fas fa-exclamation-triangle\"></i>\r\n                            <div>\r\n                                <p className=\"remark\">{props.order.remark}</p>\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment>\r\n                    : null   \r\n                    }\r\n                </div>\r\n                {timingOrder}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return content;\r\n}\r\n\r\nexport default NewOrder;","import './ToggleSwitch.css';\r\n\r\nconst ToggleSwitch = props => {\r\n\r\n    return (\r\n        <label className=\"switch\">\r\n            <input type=\"checkbox\" checked={props.checked} onChange={props.toggleHandler}/>\r\n            <span className=\"slider\"></span>\r\n        </label>\r\n    );\r\n}\r\n\r\nexport default ToggleSwitch;\r\n\r\n//  ","import './MenuSiteClosure.css';\r\nimport React, {useState} from 'react';\r\nimport ToggleSwitch from '../../../components/ToggleSwitch/ToggleSwitch';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport axios from 'axios';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst MenuSiteClosure = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const toggleHandler = event => {    \r\n        const newRestaurant = {...props.restaurant};\r\n        newRestaurant.menu_open = event.target.checked;\r\n        delete newRestaurant.background_img;\r\n\r\n        if (event.target.checked !== props.restaurant.menu_open){\r\n            setStatus(\"loading\");\r\n            const originURL = window.location.origin;\r\n            const csrftoken = getCookie('csrftoken');\r\n\r\n            axios.put(originURL + \"/my_restaurant\",\r\n                newRestaurant,\r\n                {\r\n                    headers: {'X-CSRFTOKEN': csrftoken,},\r\n                },\r\n            )\r\n            .then(res => {\r\n                console.log(\"SUCCESS updating restaurant\");\r\n                props.setRestaurant(newRestaurant);\r\n                setStatus(null);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ERROR updating restaurant\");\r\n                console.log(err.message);\r\n                setStatus(\"error\");\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    let content;\r\n\r\n    if (status === \"loading\"){\r\n        content = (\r\n            <div className=\"loading-and-error\">\r\n                <Spinner/>\r\n            </div> \r\n        );\r\n    }\r\n    else if (status === \"error\"){\r\n        content = (\r\n            <div className=\"loading-and-error\">\r\n                שגיאת תקשורת\r\n            </div> \r\n        );\r\n    }\r\n    else {\r\n        content = (\r\n            <React.Fragment>\r\n                {props.restaurant.menu_open ? <p>האתר פתוח להזמנות</p>\r\n                : <p>האתר סגור להזמנות</p>}\r\n                <ToggleSwitch checked={props.restaurant.menu_open} toggleHandler={toggleHandler}/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"menu-site-closure\">\r\n            <h2>פתיחת/השבתת אתר התפריט ללקוחות</h2>\r\n            {content} \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MenuSiteClosure;","import React, {useState, useEffect} from 'react';\r\nimport './DishesVisibility.css';\r\nimport axios from 'axios';\r\nimport Spinner from '../../../components/Spinner/Spinner';\r\nimport {getCookie} from '../../../assets/functions';\r\n\r\nconst DishesVisibility = props => {\r\n\r\n    const [status, setStatus] = useState(null);\r\n\r\n    const createNewFoodCategories = oldFoodCategories => {\r\n        const newFoodCategories = [...oldFoodCategories];\r\n        for (let i = 0; i < oldFoodCategories.length; i++) {\r\n            newFoodCategories[i] = {...oldFoodCategories[i]}\r\n            newFoodCategories[i].dishes = [...oldFoodCategories[i].dishes]\r\n            for(let j = 0; j < oldFoodCategories[i].dishes.length; j++) {\r\n                newFoodCategories[i].dishes[j] = {...oldFoodCategories[i].dishes[j]}\r\n            }\r\n        }\r\n        return newFoodCategories;\r\n    }\r\n\r\n    const [foodCategories, setFoodCategories] = useState(createNewFoodCategories(props.foodCategories));\r\n\r\n    const onChangeHandler = (event, id) => {\r\n        const newFoodCategories = createNewFoodCategories(foodCategories);\r\n        newFoodCategories.forEach(category => {\r\n            category.dishes.forEach(dish => {\r\n                if (dish.id === id)\r\n                    dish.visible = event.target.checked;\r\n            })\r\n        })\r\n        setFoodCategories(newFoodCategories);\r\n    }\r\n\r\n    const onSubmitHandler = () => {\r\n        setStatus(\"loading\");\r\n\r\n        const originURL = window.location.origin;\r\n        const csrftoken = getCookie('csrftoken');\r\n\r\n        axios.put(originURL + \"/dishes_visibility\",\r\n            foodCategories,\r\n            {\r\n                headers: {'X-CSRFTOKEN': csrftoken,},\r\n            },\r\n        )\r\n        .then(res => {\r\n            console.log(\"SUCCESS updating dishes visibility\");\r\n            props.setFoodCategories(foodCategories);\r\n            setStatus(null);\r\n            props.modalClose(false);\r\n        })\r\n        .catch(err => {\r\n            setStatus(\"error\");\r\n            console.log(\"Error updating dishes visibility\");\r\n            console.log(err.message);\r\n        });\r\n    }\r\n\r\n    let content = null;\r\n    if (status === \"loading\") {\r\n        content = (\r\n            <div className=\"spinner-and-error\">\r\n                <Spinner/>\r\n            </div>\r\n        );\r\n    }\r\n    else if (status === \"error\"){\r\n        content = (\r\n            <div className=\"spinner-and-error\">\r\n                שגיאת תקשורת\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        const foodCategoriesContent = foodCategories.map(category => {\r\n            const dishes = category.dishes.map(dish => \r\n                <div className=\"dish-input\" key={dish.name}>\r\n                    <input type=\"checkbox\" id={dish.name} checked={dish.visible} onChange={event => onChangeHandler(event, dish.id)}/>\r\n                    <label htmlFor={dish.name}>{dish.name}</label>\r\n                </div>\r\n            );\r\n\r\n            return (\r\n                <React.Fragment key={category.name}>\r\n                    <h3>{category.name}</h3>\r\n                    {dishes}\r\n                </React.Fragment>\r\n            ); \r\n        });\r\n\r\n        content = (\r\n            <React.Fragment>\r\n                {foodCategoriesContent}\r\n                <div className=\"update-button\" onClick={onSubmitHandler}>עדכן</div>\r\n            </React.Fragment>\r\n        );\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className=\"dishes-visibility\">\r\n            <h2>סימון מנות שיופיעו בתפריט</h2>\r\n            {content}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DishesVisibility;","import './Orders.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport OrderWindow from './OrderWindow/OrderWindow';\r\nimport OrderSmallWindow from './OrderSmallWindow/OrderSmallWindow';\r\nimport SubHeader from './SubHeader/SubHeader';\r\nimport PageHeader from '../../components/PageHeader/PageHeader';\r\nimport Modal from '../../components/Modal/Modal';\r\nimport AddOrder from './AddOrder/AddOrder';\r\nimport ViewOrder from './ViewOrder/ViewOrder';\r\nimport NewOrder from './NewOrder/NewOrder';\r\nimport MenuSiteClosure from './MenuSiteClosure/MenuSiteClosure';\r\nimport DishesVisibility from './DishesVisibility/DishesVisibility';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport OrdersPageContext from './AddOrder/OrdersPageContext';\r\n\r\n\r\nconst Orders = props => {\r\n\r\n    const [orders, setOrders] = useState(null);\r\n    const [customersList, setCustomersList] = useState(null);\r\n    const [restaurant, setRestaurant] = useState(null);\r\n    const [foodCategories, setFoodCategories] = useState(null);\r\n\r\n    const [page, setPage] = useState('orders');\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n    const [shouldRefresh, setShouldRefresh] = useState(false);\r\n    const [addOrderWindow, setAddOrderWindow] = useState(false);\r\n    const [viewOrderWindow, setViewOrderWindow] = useState(false);\r\n    const [newOrderWindow, setNewOrderWindow] = useState(false);\r\n    const [menuSiteClosureWindow, setMenuSiteClosureWindow] = useState(false);\r\n    const [dishesVisibilityWindow, setDishesVisibilityWindow] = useState(false);\r\n\r\n    const allModalClosed = () => {\r\n        return (!addOrderWindow && !viewOrderWindow && !newOrderWindow && !menuSiteClosureWindow && !dishesVisibilityWindow);\r\n    }\r\n\r\n    if (shouldRefresh && allModalClosed()) {\r\n        window.location.reload();\r\n    }\r\n\r\n    let newOrders = null;\r\n    if (orders){\r\n        newOrders = orders.filter(order => order.status === 'new');\r\n        if (newOrders.length > 0 && !newOrderWindow) {\r\n            setNewOrderWindow(newOrders[0]);\r\n        }\r\n    }\r\n\r\n    const originURL = window.location.origin;\r\n\r\n    useEffect(() => {\r\n        const getCustomers = axios.get(originURL + \"/customers\");\r\n        const getOrders = axios.get(originURL + \"/orders\");\r\n        const getRestaurant = axios.get(originURL + \"/my_restaurant\");\r\n\r\n        axios.all([getCustomers, getOrders, getRestaurant])\r\n            .then((responses) => {\r\n                console.log(\"SUCCESS getting customers, orders and restaurant\");\r\n                \r\n                setCustomersList(responses[0].data);\r\n                setOrders(responses[1].data);\r\n                setRestaurant(responses[2].data)\r\n\r\n                axios.get(originURL + '/foodcategories/' + responses[2].data.id + '/')\r\n                    .then((res) => {\r\n                        console.log(\"SUCCESS getting foodcategories\");\r\n                        setFoodCategories(res.data);\r\n                        setLoading(false);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"ERROR getting foodcategories\");\r\n                        console.log(err.message);\r\n                        setError(err);\r\n                    })\r\n                \r\n            })\r\n            .catch((errors) => {\r\n                console.log(\"ERROR getting customers, orders and my_restaurant\");\r\n                console.log(errors);\r\n                setError(errors);\r\n            })\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const dbOrdersChanged = (newOrders) => {\r\n            if (newOrders.length !== orders.length) \r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n\r\n        if(!loading && !error){\r\n            const interval = setInterval(() => {\r\n                axios.get(originURL + \"/orders\")\r\n                .then(res => {\r\n                    console.log(\"SUCCESS getting orders\");\r\n                    if(dbOrdersChanged(res.data)){\r\n                        clearInterval(interval);\r\n                        setShouldRefresh(true);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error getting orders\");\r\n                    console.log(err.message);\r\n                })\r\n                \r\n            }, 30000);\r\n        }\r\n    }, [loading, error]);\r\n\r\n    const orderUpdateHandler = newOrder => {\r\n        const newOrders = [...orders];\r\n        for (let i=0; i < newOrders.length; i++){\r\n            if(newOrders[i].id === newOrder.id)\r\n                newOrders[i] = newOrder;\r\n        }\r\n        setOrders(newOrders);\r\n    }\r\n\r\n    const errorMessage = (\r\n        <div className=\"error-message\">\r\n            <p>\r\n                <i className=\"fas fa-exclamation-triangle\"></i>\r\n            </p>\r\n            <p>שגיאת תקשורת</p>\r\n        </div>\r\n    );\r\n\r\n    let content = null;\r\n\r\n    if (loading) {\r\n        content = <div className=\"spinner\"><Spinner/></div>\r\n    }\r\n    else if(error){\r\n        content =  errorMessage;\r\n    }\r\n    else {\r\n        // creating order windows for map()\r\n        const orderWindowCreator = (order) => {\r\n            return (\r\n                <OrderWindow\r\n                    key={order.id}\r\n                    order={order}\r\n                    orderUpdateHandler={orderUpdateHandler}\r\n                    click={() => setViewOrderWindow(order)}\r\n                />\r\n            );\r\n        }\r\n\r\n        const ordersProcess = orders.filter(order => order.status === \"process\")\r\n                    .map(orderWindowCreator);\r\n\r\n        const ordersReady = orders.filter(order => order.status === \"ready\")\r\n                    .map(orderWindowCreator);\r\n\r\n        const ordersSent = orders.filter(order => order.status === \"sent\")\r\n                    .map(order => (\r\n                        <OrderSmallWindow\r\n                            key={order.id}\r\n                            order={order}\r\n                            click={() => setViewOrderWindow(order)}\r\n                        />\r\n                    ));\r\n\r\n        const ordersDelivered = orders.filter(order => order.status === \"delivered\")\r\n                    .map(order => (\r\n                        <OrderSmallWindow\r\n                            key={order.id}\r\n                            order={order}\r\n                            click={() => setViewOrderWindow(order)}\r\n                        />\r\n                    ));\r\n\r\n        const ordersCanceled = orders.filter(order => order.status === \"canceled\")\r\n                    .map(order => (\r\n                        <OrderSmallWindow\r\n                            key={order.id}\r\n                            order={order}\r\n                            click={() => setViewOrderWindow(order)}\r\n                        />\r\n                    ));\r\n\r\n        //  delivered orders for history\r\n        \r\n        const addOrder = <AddOrder customersList={customersList} restaurantId={restaurant.id} successClose={() => setAddOrderWindow(false)}/>\r\n\r\n        const viewOrder = <ViewOrder order={viewOrderWindow} orderUpdateHandler={orderUpdateHandler} modalClose={setViewOrderWindow}/>\r\n\r\n        const newOrder = <NewOrder order={newOrderWindow} orderUpdateHandler={orderUpdateHandler} modalClose={setNewOrderWindow}/>\r\n\r\n        const menuSiteClosure = <MenuSiteClosure restaurant={restaurant} setRestaurant={setRestaurant}/>\r\n\r\n        const dishesVisibility = <DishesVisibility foodCategories={foodCategories} setFoodCategories={setFoodCategories} modalClose={setDishesVisibilityWindow}/>;\r\n\r\n        let pageContent = null;\r\n        switch (page) {\r\n            case 'orders':\r\n                pageContent = (\r\n                    <div className=\"all-orders-window\">\r\n                        <div className=\"columns-titles\">\r\n                            <h3>נאסף</h3>\r\n                            <div className=\"title-seperator\"></div>\r\n                            <h3>מוכן לאיסוף</h3>\r\n                            <div className=\"title-seperator\"></div>\r\n                            <h3>בטיפול</h3>\r\n                        </div>\r\n                        <div className=\"orders-columns\">\r\n                            <div className=\"orders-column\">\r\n                                {ordersProcess}\r\n                            </div>\r\n                            <div className=\"column-seperation\"></div>\r\n                            <div className=\"orders-column\">\r\n                                {ordersReady}\r\n                            </div>\r\n                            <div className=\"column-seperation\"></div>\r\n                            <div className=\"orders-column\">\r\n                                {ordersSent}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                );\r\n                break;\r\n            case 'history':\r\n                pageContent = (\r\n                    <div>\r\n                        <span className=\"link\" onClick={() => setPage('orders')}>\r\n                            חזרה להזמנות\r\n                            {\" \"}\r\n                            <i class=\"fas fa-chevron-circle-right\"></i>\r\n                        </span>\r\n                        <div className=\"all-orders-window\">\r\n                            <div className=\"columns-titles\">\r\n                                <h3>הזמנות שבוטלו</h3>\r\n                                <div className=\"title-seperator\"></div>\r\n                                <h3>הזמנות שהתבצעו</h3>\r\n                            </div>\r\n                            <div className=\"orders-columns\">\r\n                                <div className=\"orders-column\">\r\n                                    {ordersDelivered}\r\n                                </div>\r\n                                <div className=\"column-seperation\"></div>\r\n                                <div className=\"orders-column\">\r\n                                    {ordersCanceled}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n                break;\r\n            default:\r\n                console.log('Unable to show a page');\r\n        }\r\n        content = (\r\n            <React.Fragment>\r\n\r\n                {viewOrderWindow ? <Modal content={viewOrder} modalClick={() => setViewOrderWindow(false)}/> : null}\r\n                {addOrderWindow ? <Modal content={addOrder} modalClick={() => setAddOrderWindow(false)}/> : null}\r\n                {newOrderWindow ? <Modal content={newOrder}/> : null}\r\n                {addOrderWindow ? <Modal content={addOrder} modalClick={() => setAddOrderWindow(false)}/> : null}\r\n                {menuSiteClosureWindow ? <Modal content={menuSiteClosure} modalClick={() => setMenuSiteClosureWindow(false)}/> : null}\r\n                {dishesVisibilityWindow ? <Modal content={dishesVisibility} modalClick={() => setDishesVisibilityWindow(false)}/> : null}\r\n\r\n                <PageHeader/>\r\n                <main>\r\n                    <SubHeader\r\n                        addOrderHandler={() => setAddOrderWindow(true)}\r\n                        historyHandler={() => setPage('history')}\r\n                        menuSiteClosureHandler={() => setMenuSiteClosureWindow(true)}\r\n                        dishesVisibilityHandler={() => setDishesVisibilityWindow(true)}\r\n                    />\r\n                    {pageContent}\r\n                </main>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <OrdersPageContext.Provider value={{customersList: customersList, foodCategories: foodCategories}}>\r\n            {content}\r\n        </OrdersPageContext.Provider>\r\n    );\r\n}\r\n\r\nexport default Orders;","import './App.css';\nimport Orders from './containers/Orders/Orders';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Orders/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}